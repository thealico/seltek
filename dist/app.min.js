"use strict";var fs={},signaturePad,hasSignature;function _page_belge(e){return"belge"==set.page.cat&&(!app.mods.cek.on&&(app.mods.cek.on=!0,e?(__belge_on(e),!1):void __belge_on()))}function __belge_set(e){let t={total:0,count:1,id:0,post:!1};return"reset"==e?(fs.cek=t,!0):"create"==e&&t}function __belge_on(e){stick(180,"#dt-thead",400),table(),$(document).on("click",".dtc-list a",(function(){$(".dtc-list a").removeClass("on"),$(this).addClass("on"),$(".dt-sepet").attr("data-list",$(this).attr("rel"))}))}function _find_belge(e){}function _page_cari(e){return"z-sec"==e?(window.history.pushState("object or string","Title","/cari"),$("#tab-1 li").removeClass("on"),$("#tab-1 li.today").addClass("on"),!1):"cari"==set.page.cat&&(!app.mods.cari.on&&(app.mods.cari.on=!0,$(document).on("click","table .e-cari-sec",(function(e){if(!app.session)return session(),!1;if($(this).hasClass("on"))return _cari_sec(0,{reset:!0}),$(this).removeClass("on"),!1;let t=$(this).parent().parent().parent();return $("table .e-cari-sec.on").removeClass("on"),$("table tbody tr").removeClass("on"),$(this).addClass("on"),$(t).addClass("on"),_cari_sec($(this).data("id")),!1})),void _pgc_snc()))}function _pgc_snc(e){if(e){let t="#c-"+e.id;return e.sepa?$(t+" .td-sepa i").removeClass("of icon-sad-b").addClass("on icon-god"):$(t+" .icon-sad-b").addClass("of icon-sad-b").removeClass("on icon-god"),$(t+" .count").html(e.bakiye.vgbcnt+"<s></s>"),$(t+" .bky").html(nFor(e.bakiye.val,0)+" "+e.bakiye.kur),$(t+" .vgb").html(nFor(e.bakiye.vgb,0)+" "+e.bakiye.kur),!1}$(document).on("click","table .e-cari-snc",(function(e){const t=$(this).data("id");return Swal.fire({confirmButtonText:"Güncelle",cancelButtonText:"Vazgeç",title:"Cari Güncelle",text:"Ofisten bu carinin bilgisini değiştirme talebinde bulunduysanız aşağıdan güncelleye basınız",width:335,reverseButtons:!0,showCancelButton:!0,animation:!1,customClass:{cancelButton:"remove",popup:"sw-ios sw-note sw-confirm animated fadeIn"}}).then((e=>{e.value&&_cari_ups(t,{js:"_pgc_snc"})})),!1})),$(document).on("click","table .e-tur",(function(e){const t=$(this).data("id");let a=$(this).attr("rel"),s=$(this);return Swal.fire({confirmButtonText:"Talep Gönder",cancelButtonText:"Vazgeç",title:"Tur Talebi",text:"Bu cariye gitmek üzere, günlük turunun açılmasını istiyorum",width:335,reverseButtons:!0,showCancelButton:!0,animation:!1,customClass:{cancelButton:"remove",popup:"sw-ios sw-note sw-confirm animated fadeIn"}}).then((e=>{e.value&&$.post("/ajax/data/cari-tur-ac",{id:t},(function(e){if((e="object"==typeof e?e:$.parseJSON(e)).result){let t="Gönderildi",n="Talebiniz onaylandıktan sonra cariniz tur günü listesinde yer alacaktır.",o=e.out.code;t=1===o?"Onaylandı":t,t=2===o?"Üzgünüm":t,t=3===o?"Onay Bekliyor":t,n=1===o?"Bu müşteriniz için verdiğiniz tur açma talebiniz onaylandı":n,n=2===o?"Bu müşterinizin tur açma talebi red edildi":n,n=3===o?"Bu müşteriniz için verdiğiniz tur açma talebi onay bekliyor":n,Swal.fire({title:t,text:n,width:350,customClass:{popup:"sw-ios sw-note sw-ok"}}),o!=a&&($(s).attr("rel",o),t=1===o?"( Onaylandı )":t,t=2===o?"( Red Edildi )":t,t=3===o?"( Onay Bekliyor)":t,$(s).find("span").text(t))}}))})),!1}))}function _page_cek(e){return"cek"==set.page.cat&&(e?(__cek_on(e),!1):void __cek_on())}function __cek_set(e){let t={total:0,count:1,id:0,kur:!1,post:!1,bank:!1,data:!1};return"reset"==e?(fs.cek=t,!0):"create"==e&&t}function __cek_on(e){if(app.cek={},app.cek.filter={rel:!1,rst:0,nav:{cek:"#tab-1 .item-cek",flt:"#tab-1 .item-flt",all:"#tab-1 ol > li"},dom:{rel:".dtc-rel a:not(.static)"}},_cek_filter(e),e&&$("#modal-cek").attr("mod","list"==set.page.mod?"add":"view"),app.mods.cek.on)return!1;let t;app.mods.cek.on=!0,stick(30),stick(85),stick(150),stick(240,"#dt-thead",400),table(),_modal_dekont({prev:!0,rel:"cek"}),_modal_imza({prev:!0,rel:"cek"}),_stepBody({callback:["_cek_teslim",{step:!0}],time:500});let a='<option value="" class="">Seç</option>';t=_cari_storge_get("tum-rows"),t=t||_cari_tum(!1,!0),window.setTimeout((function(){t=_cari_storge_get("tum-rows"),t&&($.each(t,(function(e,t){a=a+'<option value="'+t.erp.id+'">'+t.name+"</option>"})),$("#f-ce-cari").html(a))}),1500)}function _cek_filter(){"cek"==set.page.cat&&_cf_rel("load")}function _cf_rel(e,t){let a=app.cek.filter;if("load"==e){let e=[1,2,3,4,5,6,7,8];return $.each(e,(function(e,t){console.log(t),$("#list-cek li[rel="+t+"]").length||$("#tab-1 .dtc-rel a[rel="+t+"]").addClass("of-point")})),fs.dt.action.rel.js="_cf_rel",!0}if("reset"==e)return $(fs.ly.head.title).text($(fs.ly.head.title).data("title")),$(a.nav.urn).removeClass("op"),$(a.dom.rel).removeClass("on"),$(".dt-list").removeAttr("rel"),app.cek.filter.rel=!1,!0;e>0&&(1==e&&$(fs.ly.head.title).text("Bekleyen Çekler"),2==e&&$(fs.ly.head.title).text("Bugün Vadesi Gelen Çekler"),3==e&&$(fs.ly.head.title).text("Vadesi Geçen Çekler"),app.cek.filter.rel=e)}function _cek_ekle(e,t){if("valid"==e){let e=["cari","vade","bank","sube","cek","birim","tutar"],t=!1;return $("#modal-cek-add .err").removeClass("err"),$.each(e,(function(e,a){let s=$("#f-ce-"+a);$(s).val()||(t=!0,$("#modal-cek-add .f-"+a).addClass("err"))})),t?!1:(_modal_imza({txt:{para:$("#f-ce-tutar").val(),kur:$("#f-ce-birim").val()},sum:"add"}),!0)}if("send"==e){if(fs.cek.post)return!1;fs.cek.post=!0,$("#fx-cek-ekle").submit()}if("post"==e){if(!form.sent)return form.data.append("imza",signaturePad.toDataURL("image/jpeg")),!0;if(form.sent){if(!form.data.result)return _modal_of(),window.setTimeout((function(){Swal.fire({text:form.feed.api,customClass:{popup:"sw-ios sw-note"}})}),300),!1;fs.cek.post=!1,_modal_of(),window.setTimeout((function(){let e;e="Çek kaydınız başarıyla tamamlandı",Swal.fire({type:"success",text:"Çek kaydınız başarıyla tamamlandı",customClass:{popup:"sw-ios sw-note sw-ok"}}).then((e=>{e.value&&($(".dtc-rel-reset").click(),$(".find-reset").click(),block_load("cek"))}))}),300)}}}function _cek_tahsil(e,t){if("bank"==e&&$.post("/cek/tahsil",{send:"bordro"},(function(e){$("#el-cekbank-6").text(e.bordro),$("#field-bordro").val(e.bordro)})),"valid"==e){if(!fs.modal.last.box){if(!fs.dt.checkeds.tot){let e="en az bir adet çek seçmelisiniz";return e="trns"==t?"Başkasına transfer için "+e:"Tahsil için bankaya teslim edeceğiniz "+e,Swal.fire({title:"Çek Seçin",text:e,customClass:{popup:"sw-ios sw-note"}}),!1}if("all"==fs.dt.checkeds.tot){fs.cek.count=app.data.entry.length,fs.cek.id=[],fs.cek.data="all";let e=1;$.each(app.data.entry,(function(t,a){a&&(fs.cek.total=fs.cek.total+Number(a.tot),fs.cek.id.push(t),1==e&&(e=a.kur),2!=e&&(e=e!=a.kur?2:e))})),fs.cek.kur=1!=e&&2!=e&&e}else{fs.cek.count=fs.dt.checkeds.tot,fs.cek.id=fs.dt.checkeds.val,fs.cek.data={};let e=1;$.each(fs.cek.id,(function(t,a){let s=app.data.entry[a];fs.cek.total=fs.cek.total+Number(s.tot),fs.cek.data[a]=s,1==e&&(e=s.kur),2!=e&&(e=e!=s.kur?2:e)})),fs.cek.kur=1!=e&&2!=e&&e}return!0}if("cek-banka"==fs.modal.last.box){let e={1:$("#field-cb-bank").val(),2:$("#field-cb-date").val()};if(e[1]&&e[2]){let e=$("#field-cb-bank").val();return fs.cek.bank={name:$(`#field-cb-bank option[value='${e}']`).text(),date:$("#field-cb-date").val(),id:e},!0}{let t=!1;return t=t||e[1]?t:" banka seçmelisiniz",t=t||e[2]?t:" tarih girmelisiniz",Swal.fire({text:"Onay vermeden önce"+t,customClass:{popup:"sw-ios sw-note"}}),!1}}}if("send"==e){if(fs.cek.post)return!1;fs.cek.post=!0,$("#fx-tahsil").submit()}if("post"==e){if(!form.sent){form.data.append("dekont",$("#modal-dekont-input")[0].files[0]);let e=fs.cek.count>1?[]:app.data.entry[fs.cek.id].id,t=fs.cek.count>1?"cok":"tek";return fs.cek.count>1&&($.each(fs.cek.id,(function(t,a){e.push(app.data.entry[a].id)})),e=JSON.stringify(e)),form.data.append("cek",e),form.data.append("tip",t),form.data.append("data",JSON.stringify(fs.cek.data)),!0}if(form.sent){if(!form.data.result)return _modal_of(),window.setTimeout((function(){Swal.fire({text:form.feed.api,customClass:{popup:"sw-ios sw-note"}})}),300),!1;fs.cek.post=!1,_modal_of(),window.setTimeout((function(){let e;e=fs.cek.count>1?"Çekler":"Çek",e+=" tahsile verildi. Sonraki tahsil sürecini ofis takip edecektir, teşekkürler",Swal.fire({type:"success",text:e,customClass:{popup:"sw-ios sw-note sw-ok"}}).then((e=>{e.value&&(fs.cek.count>1?$.each(fs.cek.id,(function(e,t){$("#list-cek li#"+t).addClass("remove"),delete app.data.entry[t]})):($("#list-cek li#"+fs.cek.id).addClass("remove"),delete app.data.entry[fs.cek.id]),$("#list-cek > li:not(.remove)").length<1&&(_onBodyHas(!1),_onBodyLod(!0),_onBodyLod(!1)),fs.app.edit&&_app_mod_edit(),_m_cek_bank_of())}))}),300)}}}function _cek_teslim(e){if("send"==e){if(fs.cek.post)return!1;fs.cek.post=!0,$("#fx-teslim").submit()}if("post"==e){if(!form.sent){let e=fs.cek.count>1?[]:app.data.entry[fs.cek.id].id,t=fs.cek.count>1?"cok":"tek";return fs.cek.count>1&&($.each(fs.cek.id,(function(t,a){e.push(app.data.entry[a].id)})),e=JSON.stringify(e)),form.data.append("imza",signaturePad.toDataURL("image/jpeg")),form.data.append("cek",e),form.data.append("tip",t),!0}if(form.sent){if(!form.data.result)return _modal_of(),window.setTimeout((function(){Swal.fire({text:form.feed.api,customClass:{popup:"sw-ios sw-note"}})}),300),!1;fs.cek.post=!1,_modal_of(),window.setTimeout((function(){let e;e=fs.cek.count>1?"çekler":"çek",e="Tebrikler "+e+" başarıyla transfer edilmiştir.",Swal.fire({type:"success",text:e,customClass:{popup:"sw-ios sw-note sw-ok"}}).then((e=>{e.value&&(fs.cek.count>1?$.each(fs.cek.id,(function(e,t){$("#list-cek li#"+t).addClass("remove"),delete app.data.entry[t]})):($("#list-cek li#"+fs.cek.id).addClass("remove"),delete app.data.entry[fs.cek.id]),$("#list-cek > li:not(.remove)").length<1&&(_onBodyHas(!1),_onBodyLod(!0),_onBodyLod(!1)),fs.app.edit&&_app_mod_edit(),_stepReset(),_m_cek_bank_of())}))}),300)}}if(e&&"title"==e.help){let t;return t="z"!=e.str?t:"Saha Çalışanı",t="vf"!=e.str?t:"Saha Sorumlusu",t="ofis"!=e.str?t:"Ofis Çalışanı",t="cari"!=e.str?t:"Müşteri",t}if(e&&e.step){let n=fs.stepBody,o=n.parent;if(2==n.step){var t=(a=o[1]).get;let e,s;e=fs.cek.count>1?"Çekleri":"Çeki",e="z"==t?e+" teslim edeceğiniz <span>plasiyer<sup>(z)</sup></span><br/>çalışınını seçiniz":e,e="vf"==t?e+" teslim edeceğiniz <span>saha<sup>(vf)</sup></span><br/>sorumlusunu seçiniz":e,e="ofis"==t?e+" teslim edeceğiniz <span>ofis</span><br/>sorumlusunu seçiniz":e,s=_cek_teslim({help:"title",str:t}),console.log("tt"),$(".step.tre #field-cek").val(JSON.stringify(fs.cek.id)),$(".step.tre #field-unit").val(a.id),$(".step.tre h4").html(s)}if(3==n.step){var a=o[1],s=!!o[2]&&o[2];let t,n;if(o[1].next&&!e.out)return!1;o[1].next&&(s={name:fs.stepBody.data[0].name,code:fs.stepBody.data[0].code,kasa:fs.stepBody.data[0].kasa},$(".step.tre #field-unit").val(a.id),t=_cek_teslim({help:"title",str:a.get}),t="ofis"==a.get?"Yetkili":t,$(".step.tre h4").html(t)),n="ofis"==a.get?"Ofis Çalışanı":s.name,$(".step.tre h3").text(n),$(".step.tre #field-sent").val(s.code),_modal_imza({txt:{name:s.name},sum:"trs"})}return!1}}function _find_cek(e){}function _page_dash(e){return"dash"==set.page.mod&&(!app.mods.dash.on&&(app.mods.dash.on=!0,e?(__dash_on(e),!1):void __dash_on()))}function __dash_on(e){set.page.mod}function _page_hesap(e){return"hesap"==set.page.cat&&(!app.mods.hesap.on&&(app.mods.hesap.on=!0,void __hesap_set()))}function __hesap_set(e){if("post"==e)return form.sent&&(app.user.set=form.data.response),!1;$(document).on("change","#fx-set-user select",(function(){$("#fx-set-user").submit()}))}function _page_kasa(e){return"kasa"==set.page.cat&&(e?(__kasa_on(e),!1):void __kasa_on())}function __kasa_on(e){"tahsil"==set.page.sub&&_k_tahsil(),"teslim"==set.page.sub&&_k_teslim(),"banka"==set.page.sub&&_k_banka()}function __kasa_set(e){let t={bakiye:{val:0,int:0,out:0},cari:{bky:!1,kalan:!1,arti:!1,aft:!1,ftr:{}},tahsil:{close:"auto",aft:!1,mono:{fell:!1,sonOdeme:0}},para:{val:0,onda:0},post:!1};return"create"==e?t:("bakiye"==e&&(fs.kasa.bakiye=t.bakiye),"tahsil"==e&&(fs.kasa.tahsil=t.tahsil),"cari"==e&&(fs.kasa.cari=t.cari),"para"==e&&(fs.kasa.para=t.para),!1)}function _k_tahsil(e){if(e&&e.rst){let t={bky:!1,kalan:!1,close:"auto",fatura:{}};return"create"==e.rst?t:(fs.navcnt=t,!1)}const t=app.cari.tum?app.cari.tum:app.cari.tur;if("onay"==e){let e="onode"==$("#f-odeme-tur").val();if(!e){let e=fs.kasa.cari.bky;if(e&&$("#para").val()<1||!e&&!fs.kasa.cari.arti)return Swal.fire({text:"onay vermeden önce müşterinizden aldığınız ödemeyi girmelisiniz",title:"Ödeme Girmediniz",customClass:{popup:"sw-ios sw-note"}}),!1;let t=!$("#f-fatura").val();if(!t&&"mono"==fs.kasa.tahsil.close){let e=0;$.each(fs.kasa.cari.ftr,(function(t,a){e+=!0===a?$("#"+t).data("set").tutar:a})),t=fs.kasa.para.val>e&&fs.kasa.para.val-e}if(t){let e=app.cari.tum?app.cari.tum.bakiye.kur:app.cari.tur.bakiye.kur;return isNumeric(t)?(Swal.fire({title:"Onay Vermeden Önce",text:"Arttırmış olduğunuz "+t+e+" karşılığında kapanacak olan faturayı seçin",customClass:{popup:"sw-ios sw-note"}}),!1):(Swal.fire({title:"Onay Vermeden Önce",text:"ödeme karşılığında kapanacak olan faturaları elle seçmelisiniz",confirmButtonText:"Otomatik Seç",cancelButtonText:"Tamam",showCancelButton:!0,customClass:{cancelButton:"blue",confirmButton:"gray",popup:"sw-ios sw-note sw-confirm"}}).then((e=>{e.value&&Swal.fire({title:"Elle Kapatmadan Vazgeçip",text:"Faturaları otomatik kapatarak tahsil etmek istediğinizden emin misiniz ?",confirmButtonText:"Eminim",cancelButtonText:"Vazgeç",showCancelButton:!0,reverseButtons:!0,width:335,customClass:{popup:"sw-ios sw-note sw-confirm"}}).then((e=>{e.value&&($(".e-close .auto").click(),$(".app-head .save-link").click())}))})),!1)}}$("#modal-imza .mb-one .sum").removeClass("on"),$("#modal-imza .t-para").text("");let a=e?".onode":fs.kasa.cari.kalan>0?".ksm":".tum";return console.log(fs.kasa),$("#modal-imza "+a+" .t-cari").text(t.name),$("#modal-imza "+a+" .t-para").text(fs.kasa.para.val),$("#modal-imza "+a).addClass("on"),!0}if("send"==e)return!fs.kasa.post&&(fs.kasa.post=!0,$("#f-imza").val(signaturePad.toDataURL("image/jpeg")),window.setTimeout((function(){$("#fx-main").submit()}),150),!0);if("post"==e){if(!form.sent)return!0;if(form.sent){_modal_of(),form.data.result,fs.kasa.post=!1,_cari_ups(t.id,{scop:app.cari.tum?"tum":"tur"});let e=Number.isInteger(form.data.para)?form.data.para:nPar(form.data.para),s=Number.isInteger(app.user.kasa)?app.user.kasa:nPart(app.user.kasa);if(console.log(e),console.log(s),console.log(e+s),_user_set("kasa",e+s),fs.kasa.cari.bky=fs.kasa.cari.kalan,fs.kasa.cari.ftr={},"ftr"==form.field.odemetur){if($("table tr.check").remove(),$("table tr.fell .td-borc .v").addClass("on"),$("table tr.fell").length){let e=$("table tr.fell").data("set");e.tutar=e.tutar-fs.kasa.cari.ftr[e.id],$("#"+e.id).attr("data-set",JSON.stringify(e)),$("#"+e.id).removeClass("fell")}let e=fs.kasa.cari.bky;$("#para").attr("max",nFor(e,2,".",",",1)),$("#para").val(0),$("#cari-odeme span").text("0"),$("#cari-odeme sup").text("00");let t=e.toString().split(".");t=t[1]?1==t[1].length?t[1]+"0":t[1]:"0",$("#onda").val(t)}$("#fx-main")[0].reset(),$("#f-fatura").val("");var a=fs.kasa.cari.bky>0?" Müşterinizin toplam "+nFor(fs.kasa.cari.bky)+"€ borcu kalmıştır.":" Müşterinizin tüm borcu kapanmıştır teşekkür ederiz.";return a="onode"==form.field.odemetur?"Müşterinizin ön odeme tahsilatı başarıyla alınmıştır teşekkür ederiz":a,console.log(fs.kasa),window.setTimeout((function(){Swal.fire({type:"success",title:"Tahsilat Onaylandı",text:a,width:350,imageHeight:40,imageWidth:40,customClass:{popup:"sw-ios sw-note sw-ok"}}).then((e=>{if(e.value){if("ftr"==form.field.odemetur){let e,t;console.log("odeme-tur : ftr "),t=fs.kasa,e=!1,e=!(t.cari.bky>0),e&&($("body").removeClass("on"),__kasa_set("tahsil"),__kasa_set("cari"),_onBodyHas(!1),_onBodyLod(!0),_onBodyLod(!1,2))}__kasa_set("para")}}))}),300),imzaClear(),!1}return!0}!app.cari.tum&&app.cari.tur&&$("html").removeClass("no-cari-tum"),fs.kasa.cari.bky=nFix(Number($("#para").attr("max"))),fs.kasa.cari.aft=nFix(Number($("#para").attr("ftr"))),_kt_ftr_mono(),_kt_e_kapama(),_kt_e_odeme(),_modal_imza()}function _kt_e_kapama(){$(document).on("click",".e-close button",(function(){$(".e-close button").removeClass("on"),$(this).addClass("on"),fs.kasa.tahsil.close=$(this).attr("rel"),"mono"==fs.kasa.tahsil.close&&_kt_ftr_reset(),"auto"==fs.kasa.tahsil.close&&_kt_ftr_auto(),"auto"==fs.kasa.tahsil.close&&$("#para").attr("min",0)}))}function _kt_e_odeme(){$(document).on("click",".e-odeme",(function(){let e="onodeme"==$(this).data("tur");!async function(){const{value:t}=await Swal.fire({title:e?"Ödeme Al":"Ödeme Gir",text:e?"faturasız ön ödeme alacağınız tutarı yazıp göndere basın":"almış olduğunuz ödeme tutarını yazmak için aşağıya tıklayın.  ",confirmButtonText:e?"Gönder":"Tamam",inputPlaceholder:"0.00,0",inputClass:"mask-money",input:"tel",inputAttributes:{maxlength:9},customClass:{popup:"sw-money"},onBeforeOpen:()=>{$("input.mask-money").mask("00.000,00",{reverse:!0})}});var a;t&&(a=nPar(t),e||(a>fs.kasa.cari.bky?Swal.fire({confirmButtonText:"Eminim",cancelButtonText:"Vazgeç",title:"Dikkat",text:"Müşterinin bakiye borcundan fazlasını yatırmak istediğinizden emin misiniz ?",width:360,reverseButtons:!0,showCancelButton:!0,animation:!1,customClass:{cancelButton:"remove",popup:"sw-ios sw-note sw-confirm animated fadeIn"}}).then((e=>{e.value&&($("#f-artipara").val(a),$("#para").val(a),fs.kasa.para.val=a,fs.kasa.cari.arti=a-fs.kasa.cari.bky,_nc_range_onda($("#onda"),$("#para")),_kt_ex())})):($("#para").val(a),$("#f-artipara").val(0),fs.kasa.para.val=a,_nc_range_onda($("#onda"),$("#para")),_kt_ex())),fs.kasa.para.val=a,console.log("heys"),e&&($("#f-odeme-tur").val("onode"),$("#f-odeme-val").val(a),$(".save-link").click()))}()})),$(document).on("focus","#para",(function(){fs.kasa.cari.arti}))}function _kt_cari(e){let t=e.tum?e.tum:e.tur;__kasa_set("tahsil"),__kasa_set("cari"),__kasa_set("para"),fs.kasa.cari.aft=t.bakiye.ftr.val>0&&nFix(t.bakiye.ftr.val),fs.kasa.cari.bky=nFix(t.bakiye.val);let a=_cari_borc(t),s=t.bakiye,n=".of-body .text.t-1",o=".of-body .text",i=".of-body",r=" .frk",l=" .el";$(i+r).addClass("hidden"),$(i+l).text(""),$(o).removeClass("on"),$(n).addClass("on"),a&&s.ftr.frk>0&&($(o+l).text(nFix(s.ftr.frk)),$(o+r).removeClass("hidden")),a&&s.ftr.val<1&&($(n+l).text(nFix(s.val)),$(n+r).removeClass("hidden"));let d=!1;d=!!a||d,d=!d&&fs.kasa.cari.aft>0||d,d=!(d&&fs.kasa.cari.aft<1)&&d,_onBodyHas(d),_onBodyLod(!1)}function _kt_ex(e){let t,a,s;t=fs.kasa.para.val,s=fs.kasa.cari.aft,a=fs.kasa.cari.bky,fs.kasa.cari.arti=t>a&&Math.abs(a-t),a=fs.kasa.cari.arti?0:a-t,t>0&&$(".cari-bakiye label").text("Kalan"),t<1&&$(".cari-bakiye label").text("Bakiye"),$("#cari-bakiye").html(nHtm(a)),$("#cari-odeme").html(nHtm(t)),fs.kasa.cari.kalan=a,fs.kasa.cari.arti?($("#f-artipara").val(t),$(".ct-arti-val.f-1").text(`( +${nFor(fs.kasa.cari.arti)}€ )`),$(".ct-arti-val.f-2").text(nFor(fs.kasa.cari.arti)+"€"),$(".ct-arti-elm").removeClass("hide")):($(".ct-arti-val.f-1").text(""),$(".ct-arti-val.f-2").text(""),$(".ct-arti-elm").addClass("hide"),$("#f-artipara").val(0)),e||_kt_ftr_auto()}function _kt_cn(e){fs.kasa.para.val=e.val,_kt_ex()}function _kt_cr(e){fs.kasa.para.val="onda"==e?nPar($("#para").val()):fs.kasa.para.val,_kt_ex()}function _kt_ftr_auto(e){if("mono"==fs.kasa.tahsil.close)return!1;var t=fs.kasa.para.val;let a=!e;if(a&&(fs.kasa.cari.ftr={}),$(".tb-kasa tbody tr.e").each((function(){let e,s=$(this).data("set");t>s.tutar||t==s.tutar?($(this).addClass("check").removeClass("fell"),t=nFix(t-s.tutar),e=0,a&&(fs.kasa.cari.ftr[s.id]=!0)):(e=s.tutar-t,$(this).removeClass("fell check"),t>0&&e>0&&($("#"+s.id+" .stat .dusen span").text(nFor(t)),$(this).addClass("fell"),console.log(t),a&&(fs.kasa.cari.ftr[s.id]=nFix(t))),t=0),$("#"+s.id+" .td-borc .k span").text(nFor(e))})),a){let e=Object.keys(fs.kasa.cari.ftr).length?JSON.stringify(fs.kasa.cari.ftr):"";$("#f-fatura").val(e)}}function _kt_ftr_mono(){$(document).on("click",".tb-kasa tbody tr.e",(function(){let e=fs.kasa.tahsil.mono,t=fs.kasa.cari.ftr,a=fs.kasa;if("auto"==a.tahsil.close)return!1;var s=$(this),n=$(s).data("set"),o="#"+n.id+" .td-borc .k span",i="#"+n.id+" .dusen span",r=a.para.val;if(e.fell&&!$(s).hasClass("fell")){let t,a;return t="fatura kapamaya devam etmek için önce yarım kalan son faturayı seçiniz",a=r!=e.sonOdeme?"Artan Ödeme Limitiyle":"Ödeme Limitini Kaldırıp",Swal.fire({customClass:{popup:"sw-ios sw-note"},title:a,text:t}),!1}e.fell&&(e.fell=!1),$(s).hasClass("check")?(delete t[n.id],$(s).removeClass("check feel"),$(o).text(n.tutar)):($(s).addClass("check").removeClass("fell"),$(o).text(0),t[n.id]=!0);var l=0;$(".tb-kasa tbody tr.check").each((function(){var e=$(this).data("set");l=nFix(l+e.tutar)}));var d=r>l&&e.sonOdeme!=r;if(l>r&&e.sonOdeme!=r){let a;a=r-(l-n.tutar),t[n.id]=a,$(s).removeClass("check").addClass("fell"),$(o).text(nFix(n.tutar-a)),$(i).text(nFix(a)),l=r,e.fell=!0}if($("#f-fatura").val(Object.keys(t).length?JSON.stringify(t):""),$("#para").attr("min",l),e.sonOdeme=l,d)return!1;var c=l;$("#para").val(c),fs.kasa.tahsil.mono=e,fs.kasa.para.val=c,fs.kasa.cari.ftr=t,_nc_range_onda("#onda","#para"),_kt_ex(!0)}))}function _kt_ftr_reset(){$(".tb-kasa tbody tr.e").removeClass("check fell"),$(".tb-kasa tbody tr.e").each((function(){var e=$(this).data("set");$("#"+e.id+" .td-borc .k span").text(nFor(e.tutar)),$("#"+e.id+" .stat .dusen span").text("")})),fs.kasa.tahsil.mono={fell:!1,sonOdeme:0},fs.kasa.cari.ftr={},$("#f-fatura").val(""),"mono"==fs.kasa.tahsil.close&&(fs.kasa.cari.kalan=!1,fs.kasa.para.onda=0,fs.kasa.para.val=0,$("#ext-para").val(0),$("#para").val(0),$("#onda").val(0),_kt_ex())}function _k_teslim(e){if("onay"==e)return!!$("#field-para").val()||(Swal.fire({text:"Onay vermeden önce ödeme girmelisiniz",customClass:{popup:"sw-ios sw-note"}}),!1);if("send"==e)return fs.kasa.post||(fs.kasa.post=!0,$("#field-imza").val(signaturePad.toDataURL("image/jpeg")),window.setTimeout((function(){$("#fx-main").submit()}),150)),!1;if("post"==e){if(!form.sent)return fs.kasa.bakiye.out<1?(_k_teslim("onay"),!1):"imza"==fs.modal.last.box||($("#fx-main input.modal-open").click(),!1);if(form.sent){if(!form.data.result)return _modal_of(),window.setTimeout((function(){Swal.fire({text:form.feed.api,width:400,customClass:{container:"sw-err"}})}),300),!1;fs.kasa.post=!1,fs.kasa.bakiye.val=nFix(fs.kasa.bakiye.val-fs.kasa.bakiye.out),fs.kasa.bakiye.out=0;var t="Nakit para teslimat işlemeniz onaylandı.";return t=fs.kasa.bakiye.val>0?t+" Kasanızda toplam € "+nFor(fs.kasa.bakiye.val)+" paranız kaldı":t+" Kasa bakiyeniz sıfırlandı.",fs.kasa.bakiye.val<1&&($("body.teslim .of-body p").html("Eğer paranızın tümünü teslim etmeyip bir hata olduğunu düşünüyorsanız <br>lütfen bu durumu sorumlunuza bildiriniz"),$("body.teslim .of-body h3").html("Kasa Sıfırlandı"),$("body.teslim .of-body .alert").addClass("hidden"),_stepReset()),_modal_of(),window.setTimeout((function(){Swal.fire({type:"success",text:t,customClass:{popup:"sw-ios sw-note"}}).then((e=>{e.value&&fs.kasa.bakiye.val<1&&(_onBodyHas(!1),_onBodyLod(!0),_onBodyLod(!1))}))}),600),$("#field-para").attr("max",fs.kasa.bakiye.val),$("#field-para").val(""),imzaClear(),_user_set("kasa",fs.kasa.bakiye.val),!1}}if(e&&e.step){var a=fs.stepBody,s=a.parent;if(2==a.step){var n,o,i=(r=s[1]).get;n="z"!=i?n:"Parayı teslim edeceğiniz <span>plasiyer<sup>(z)</sup></span><br/>çalışınını seçiniz",n="vf"!=i?n:"Parayı teslim edeceğiniz <span>saha<sup>(vf)</sup></span><br/>sorumlusunu seçiniz",n="ofis"!=i?n:"Parayı teslim edeceğiniz <span>ofis</span><br/>sorumlusunu seçiniz",n="cari"!=i?n:"Parayı geri ödeme yapacağınız <br/>müşterinizi seçiniz",o="z"!=i?o:"Plasiyer",o="vf"!=i?o:"Saha Sorumlusu",o="ofis"!=i?o:"Ofis Çalışanı",o="cari"!=i?o:"Müşteri",fs.stepBody.parent[1].strUnt=o,$("#field-unit").val(r.id),$(".step.two .us h3").html(n),$(".step.tre .us h3 span").html("cari"!=i?"Teslim edeceğiniz":"Ödeme yapacağınız"),$(".step.tre .eylem").html("cari"!=i?"para teslimatı":"geri ödeme"),$(".step.tre .unit").html(o)}if(3==a.step){var r=s[1],l=!!s[2]&&s[2];if(s[1].next&&!e.out)return!1;s[1].next&&(l={name:fs.stepBody.data[0].name,code:fs.stepBody.data[0].code,kasa:fs.stepBody.data[0].kasa},$("#field-unit").val(r.id)),$(".step.tre .name").text(l.name),$(".step.tre .code").removeClass("hidden"),l.code&&$(".step.tre .code").text(l.code),l.code||$(".step.tre .code").addClass("hidden"),$("#field-user").val(l.code),$("#field-kasa").val(l.kasa),$("#modal-imza .mb-one .sum").removeClass("on"),$("#modal-imza .mb-one .sum.teslim").addClass("on"),$("#modal-imza .t-unit").text(r.strUnt),$("#modal-imza .t-name").text(l.name)}return!1}_stepBody({callback:["_k_teslim",{step:!0}]}),_k_input_para(),_modal_imza()}function _k_banka(e){if("onay"==e)return!!$("#field-para").val()||(Swal.fire({text:"Onay vermeden önce ödeme girmelisiniz",customClass:{popup:"sw-ios sw-note"}}),!1);if("send"==e){if(fs.kasa.post)return!1;fs.kasa.post=!0,$("#fx-main").submit()}if("post"==e){if(!form.sent)return fs.kasa.bakiye.out<1?(_k_banka("onay"),!1):"dekont"!=fs.modal.last.box?($("#fx-main input.modal-show").click(),!1):(form.data.append("dekont",$("#modal-dekont-input")[0].files[0]),!0);if(form.sent){if(!form.data.result)return _modal_of(),window.setTimeout((function(){Swal.fire({text:form.feed.api,width:400,customClass:{container:"sw-err"}})}),300),!1;fs.kasa.post=!1,fs.kasa.bakiye.val=nFix(fs.kasa.bakiye.val-fs.kasa.bakiye.out),fs.kasa.bakiye.out=0;var t="Bankaya para yatırma işlemeniz onaylandı.";return t=fs.kasa.bakiye.val>0?t+" Kasanızda toplam € "+nFor(fs.kasa.bakiye.val)+" paranız kaldı":t+" Kasa bakiyeniz sıfırlandı.",fs.kasa.bakiye.val<1&&($("body.banka .of-body p").html("Eğer paranızın tümünü yatırmayıp bir hata olduğunu düşünüyorsanız <br>lütfen bu durumu sorumlunuza bildiriniz"),$("body.banka .of-body .alert").addClass("hidden"),$("body.banka .of-body h3").html("Kasa Sıfırlandı"),_stepReset()),_user_set("kasa",fs.kasa.bakiye.val),_modal_of(),window.setTimeout((function(){Swal.fire({type:"success",text:t,width:350,imageHeight:40,imageWidth:40,customClass:{popup:"sw-ios sw-note sw-ok"}}).then((e=>{e.value&&fs.kasa.bakiye.val<1&&(_onBodyHas(!1),_onBodyLod(!0),_onBodyLod(!1))}))}),600),$("#field-para").attr("max",fs.kasa.bakiye.val),$("#field-para").val(""),_modal_dekont("reset"),!1}}if(e&&e.step){var a=fs.stepBody,s=a.parent;if(2==a.step){var n=s[1];$(".step.two .us h4,.step.two .name").html(n.name),$("#modal-dekont .t-bank").text(n.name),$("#modal-dekont .t-para").text(fs.kasa.bakiye.out),$("#field-banka").val(n.id)}return!1}_stepBody({callback:["_k_banka",{step:!0}]}),_k_input_para(),_modal_dekont()}function _k_input_para(){let e,t;fs.kasa.bakiye.val=app.user.kasa,console.log("ss:"+fs.kasa.bakiye.val),$(document).on("click",".e-add-money",(function(){$("#field-para").val(fs.kasa.bakiye.val).keyup()})),t=fs.kasa.bakiye.val,e=t.toString().length,e=parseInt(t)==t?e+3:e,$(document).on("keyup","#field-para",(function(){var a,s,n;let o;$(this),s=$(this).val()?nPar($(this).val()):0,n=nFix(t-(a=s>t?t:s)),fs.kasa.bakiye.out=a,$("#modal-dekont .t-para, #modal-imza .t-para").text(fs.kasa.bakiye.out),a>0&&$(".kasa-bakiye .a").removeClass("hidden"),a<1&&$(".kasa-bakiye .a").addClass("hidden"),$(".kasa-bakiye .c").html(nFor(n)),o=s.toString().length,(o==e||o>e)&&s>a&&$(this).val(a)})),$(document).on("blur","#field-para",(function(){let e,t;e=fs.kasa.bakiye.val,t=$(this).val()?nPar($(this).val()):0,$(this).val(t>e?e:t)}))}function _page_market(e){return"market"!=set.page.cat?(__market_of(),!1):e?(__market_on(e),!1):void __market_on()}function __market_on(e){if(e&&(app.cari.sepet=!!e.sepet&&e.sepet,e.market,e.block||_sepet_load(),Object.keys(app.data.entry).length>0?$("body").addClass("on"):$("body").removeClass("on")),e||app.market.view&&$("#"+app.market.view+" a").click(),app.market.filter={cat:!1,rel:!1,key:!1,rst:0,nav:{urn:"#tab-1 .item-urn",ryn:"#tab-1 .item-ryn",flt:"#tab-1 .item-flt",all:"#tab-1 ol > li"},dom:{rel:".dtc-rel a:not(.static)"}},_sepet_uptodate(),_urun_filter(e),fs.lazyLoad&&fs.lazyLoad.update(),app.mods.market.on)return!1;app.mods.market.on=!0,_urun_scroll(),kit_lazy(),_sepet_add_market(),$(document).on("click",".con-grup .list-cover a",(function(e){let t=app.market.filter;$("#cxt-uf-2 a[rel="+$(this).attr("rel")+"]").click(),$(t.nav.urn).removeClass("on"),$(t.nav.urn).removeClass("op"),$(t.nav.ryn).addClass("op"),$("#tab-1-con .con-grup").removeClass("on"),$("#tab-1-con .con-urun").addClass("on"),$(".app-head h1").text($(this).find("h4").text()),capa({top:1})}))}function __market_of(){}function _urun_scroll(){let e=!1;$(window).scroll((function(t){if("market"!=set.page.cat)return e=!1,!1;$(window).scrollTop()>set.doc.y-set.win.y-40?e||($("#list-urun li.s").each((function(e){if($(this).removeClass("s"),e>30)return doc_update(),!1})),e=!0):e=!1}))}function _urun_filter(e){let t=app.mods.market.on;if(e&&(_uf_cat("reset"),_uf_rel("reset")),"all-list"==set.page.mod&&_uf_rel("load"),!t)return $(document).on("click",".urun .filter-reset",(function(){app.market.filter;_uf_cat("reset"),_uf_rel("reset"),"2"==$(this).attr("tab")&&$(fs.ly.head.title).text("GRUPLAR")})),_uf_cat(),!0}function _uf_rel(e,t){let a=app.market.filter;if("load"==e){$(a.dom.rel).removeClass("of-point");let e=[1,4,5,63];return $.each(e,(function(e,t){$("#list-urun li[rel="+t+"]").length||$("#tab-1 .dtc-rel a[rel="+t+"]").addClass("of-point")})),fs.dt.action.rel.js="_uf_rel",!0}if("reset"==e)return $(fs.ly.head.title).text($(fs.ly.head.title).data("title")),$(a.nav.urn).removeClass("op"),$(a.dom.rel).removeClass("on"),$(".dt-list").removeAttr("sort"),$(".dt-list").removeAttr("rel"),app.market.filter.rel=!1,!0;e>0&&(_uf_cat("reset"),1==e&&$(fs.ly.head.title).text("İndirimler"),2==e&&$(fs.ly.head.title).text("Şuan Önerilen Ürünler"),4==e&&$(fs.ly.head.title).text("Aksiyon İndirimleri"),5==e&&$(fs.ly.head.title).text("Yıldız İndirimleri"),7==e&&$(fs.ly.head.title).text("Mus. Çok Sattıklarımız"),63==e&&$(fs.ly.head.title).text("Mus. Özel Fiyatlı Urunler"),6==e&&$(fs.ly.head.title).text("Mus. Son Satılanlar"),8==e&&$(fs.ly.head.title).text("Alls"),10==e&&$(fs.ly.head.title).text("Satış Yaptığım Ürünler"),11==e&&$(fs.ly.head.title).text("Tanımlı Ürünler"),12==e&&$(fs.ly.head.title).text("Diğer Ürünler"),app.market.filter.rel=e)}function _uf_cat(e,t){let a=app.market.filter;const s=".cxt-urun-filter",n="#list-urun",o=n+" li";return"reset"==e?($(n).removeClass("iscat"),$(o).removeClass("oncat"),$(s).removeClass("on-filter"),$(a.nav.flt).hasClass("op")||$(a.nav.all).removeClass("op"),$("#cxt-uf-2 li").removeClass("on"),$(".find-urun").removeClass("on"),a.cat=!1,a.key=!1,app.market.filter=a,$(a.nav.flt).hasClass("op")||_find_reset({rel:"urun"}),!1):e&&"key"==e.get?(e.key?(a.cat||$(s).addClass("on-filter"),$(a.nav.all).hasClass("op")||$(a.nav.urn).addClass("op"),app.market.filter.key=!0):a.cat?($(n).removeClass("iskey"),$(o).removeClass("onkey"),app.market.filter.key=!1):($(a.nav.flt).hasClass("op")||$(a.nav.urn).removeClass("op"),_uf_cat("reset")),!1):($(document).on("click","#cxt-uf-3",(function(){_uf_cat("reset"),_context_of()})),void $(document).on("click","#cxt-uf-2 a",(function(){let e=$(this).parent(),t=o+'[cat*="'+$(this).attr("rel")+'"]';$(e).hasClass("on")?($(t).removeClass("oncat"),$(e).removeClass("on"),$(o).hasClass("oncat")||(a.cat=!1,$(s).removeClass("on-filter"),$(n).removeClass("iscat"),$(a.nav.flt).hasClass("op")||$(a.nav.urn).removeClass("op").addClass("on")),($(a.nav.ryn).hasClass("on")||$(a.nav.ryn).hasClass("op"))&&($(a.nav.ryn).hasClass("on")&&_tab_con(1,1),$(fs.ly.head.title).text($(fs.ly.head.title).data("title")),$(a.nav.ryn).removeClass("op on"))):($(e).find("li").removeClass("on"),$(t).addClass("oncat"),$(e).addClass("on"),$(n).hasClass("iscat")||($(s).addClass("on-filter"),$(n).addClass("iscat"),console.log("on 2")),($(a.nav.ryn).hasClass("on")||$(a.nav.ryn).hasClass("op"))&&($(fs.ly.head.title).text($(fs.ly.head.title).data("title")),$(a.nav.ryn).hasClass("on")&&_tab_con(1,1),$(a.nav.ryn).removeClass("op on")),$(a.nav.all).hasClass("op")||$(a.nav.urn).addClass("op"),a.cat=!0),app.market.filter=a})))}function _find_urun(e){_uf_cat({get:"key",key:e})}function _page_more(e){return"more"==set.page.cat&&(e?(__more_on(e),!1):void __more_on())}function __more_on(e){if(app.mods.more.on)return!1;app.mods.more.on=!0}function _page_sepet(e){return"sepet"==set.page.mod&&(e?(__sepet_on(e),!1):void __sepet_on())}function __sepet_on(e){if(e&&(app.cari.sepet=!!e.sepet&&e.sepet,e.market,_dt_swipe_remove(),console.log("girdi"),_sepet_load()),app.mods.sepet.on)return!1;app.mods.sepet.on=!0,_sepet_mod(),stick(23),stick(240,"#dt-thead",400),table();let t="iade"==app.market.mod?"iade":"";fs.dt.action.unSelect={text:"Seçtiğiniz ürünleri  sepetten çıkarmak istediğinizden emin misiniz ?",buttons:["Vazgeç","Çıkar"],callback:"_sepet_del_select"},fs.dt.action.trash={text:"Bu müşterinizin tüm "+t+" sepetini boşaltmak istediğinizden emin misiniz ?",width:"iade"==app.market.mod&&340,buttons:["Vazgeç","Sepeti Sil"],callback:"_sepet_trash"},fs.dt.action.unSwipeRecord={callback:"_sepet_del_record"},fs.dt.td.name="sepet",$(document).on("click",".sepet .e-detay",(function(e){return $(".dt-sepet").hasClass("of-detay")?($(".sepet .e-detay").text("Birim Detayı Gizle"),$(".dt-sepet").removeClass("of-detay"),setCookie("sepetbirim","on")):($(".sepet .e-detay").text("Birim Detayı Göster"),$(".dt-sepet").addClass("of-detay"),setCookie("sepetbirim","of")),e.preventDefault(),!1})),$(document).on("click",".btn-mod li a",(function(){const e=$(this);let t=$(e).attr("rel"),a=$(e).attr("val"),s="BM"+t,n="#"+s;if(($(n).data("set")?$(n).data("set"):{body:!0}).body){for(var o=1;o<=7;o++)$("body").removeClass(s+"-"+o);$("body").addClass(s+"-"+a)}return $("#BMF"+t).val(a),$(n+" .cxt-r b").text($(e).text()),$(n+" .cxt-r > i").removeClass().addClass($(e).attr("ico")),$(n+" .bm-send .btn").text($(e).attr("lab")),$(n).attr("mod",a),!1}))}function display(e,t){t&&doc_update(),e&&waitForFinalEvent((function(){tema(!0)}),800,"some unique string")}function doc_update(){set.doc.y=Math.round($(document).height()),set.doc.x=Math.round($(document).width())}function mediasizemod(e){var t="ms";t=set.win.x>set.media.ms?"xs":t,t=set.win.x>set.media.xs?"sm":t,t=set.win.x>set.media.sm?"md":t,t=set.win.x>set.media.md?"lg":t,set.user.media=t}function tema(e){if(e)return mediasizemod(),kit("RootStyle"),!1;kit("RootStyle"),mediasizemod(),$("#code-builds").removeClass("hidden")}function trig(){if(app.mods[app.mod].on)return!1;console.log("trig"),__ft_input_load()}$(document).ready((function(){set.display&&(set.doc.y=Math.round($(document).height()),set.doc.x=Math.round($(document).width()),set.win.y=Math.round($(window).height()),set.win.x=Math.round($(window).width()),display(!1),$(window).resize((function(){set.win.y=Math.round($(window).height()),set.win.x=Math.round($(window).width()),display(!0)}))),tema(),form_post(),form_type(),nav_select(),nav_count(),pull_refresh(),reset(),kit(),fs.context=new Context,_tema_slide()})),fs.cek=__cek_set("create"),fs.kasa=__kasa_set("create");class Context{constructor(){let e=this;this.sets(),$(document).on("click",".context .cxt-u li a",(e=>{this.of()})),$(document).on("click",".context .cxt-r",(e=>{let t=(e=e.currentTarget).parentNode;this.set=t.data("cxt")?t.data("cxt"):{id:t.attr("rel")?t.attr("rel"):1},this.btn=e,this.el=t,this.el.isClass("cxt-on")||this.on()})),$(document).on("click",".cxt-o",(t=>{t.stopPropagation(),e.of(!0)})),document.addEventListener("keydown",(function(t){e.open&&27==t.keyCode&&e.of(!0)}))}on(){this.el.onClass("cxt-on"),this.set.id&&_("html").attr("cxt",this.set.id),_("html").onClass("cxt"),!this.set.unscr&&_("html").onClass("un-scr"),this.open=!0}of(e){fs.tab.sub&&(fs.tab.box&&_tab_con(),e&&_tab_prev(),e||_tab_subs()),_("html").unClass("cxt").unAttr("cxt"),this.el.unClass("cxt-on"),!this.set.unscr&&_("html").unClass("un-scr"),this.sets()}sets(){this.mouse="click",this.open=!1,this.set=!1,this.btn=!1,this.el=!1}}function _tema_info(){var e,t;e=localStorage.getItem("info")?$.parseJSON(localStorage.getItem("info")):fs.info.case,_ti_destory(),"market"!=(t=set.page).cat||"urun"!=t.sub||e[1].stat||(fs.info.open=1,$("#h").addClass("on-info-1"),window.setTimeout((function(){$("#h").addClass("st-info")}),2e3)),"market"!=t.cat||"reyon"!=t.sub||e[2].stat||(fs.info.open=2,$("#h").addClass("on-info-2"),window.setTimeout((function(){$("#h").addClass("st-info")}),2e3)),$(document).on("click",".e-info",(function(t){var a;t.preventDefault(),"market-start"==(a=$(this).data("set")).sema&&($("#h").addClass("of-info"),window.setTimeout((function(){$("#h").removeClass("on-info-"+a.key),$("#h").removeClass("of-info"),fs.info.open=!1,e[1].stat=!0,localStorage.setItem("info",JSON.stringify(e))}),700))}))}function _ti_destory(){if(!fs.info.open)return!1;$("#h").removeClass("on-info-"+fs.info.open),$("#h").removeClass("st-info of-info"),noScroll(!1),fs.info.open=!1}function _tema_slide(e){if(fs.slide.media==set.user.media)return!1;if(fs.slide.media=set.user.media,fs.slide.count>0){var t=fs.slide.span;$.each(t,(function(e,t){slick_each(!1,t)}))}else e?slick_each(e):$(".slide").each((function(e){slick_each($(this))}))}function slick_each(e,t){var a,s,n,o,i;if(t?(n=(s=t).id,o=!!fs.slide.spanmedia[""+n]&&fs.slide.spanmedia[""+n]):(fs.slide.count=fs.slide.count+1,a=new Object($(e).data("set")),i=(n=$(e).attr("id")).replace("slide-",""),o=!1,s={id:n,dom:{div:"#"+n,list:!!$("#"+i+"-list").length&&"#"+i+"-list",dots:!!$("#"+i+"-dots").length&&"#"+i+"-dots",prev:!!$("#"+i+"-prev").length&&"#"+i+"-prev",next:!!$("#"+i+"-next").length&&"#"+i+"-next"},dots:{over:!(void 0===a.dots||!a.dots.over),link:!(void 0===a.dots||!a.dots.link),css:void 0!==a.dots?a.dots.css:"",htm:void 0!==a.dots&&a.dots.htm},active:!1,slidestoshow:!!a.slidestoshow&&a.slidestoshow,responsive:!!a.responsive&&a.responsive,adaptive:!!a.adaptive,autoplay:!!a.autoplay,vertical:!!a.vertical,media:!!a.media&&a.media,native:!!a.native&&a.native,lazyLoad:!!a.lazyLoad&&a.lazyLoad,lzy:!!a.lzy,blazy:!!a.blazy,speed:a.speed?a.speed:300,cssease:a.cssease?a.cssease:"ease",centerMode:!!a.centerMode,variableWidth:!!a.variableWidth,infinite:!!a.infinite,kur:!1,section:!!a.section&&a.section}),s.kur=mediakur(s.media),fs.slide.span[""+n]=s,s.kur){if(!o){var r={prevArrow:s.dom.prev,nextArrow:s.dom.next,appendDots:s.dom.dots,dotsClass:s.dots.css,vertical:!!s.vertical,verticalSwiping:!!s.vertical,slidesToShow:s.slidestoshow?s.slidestoshow:1,slidesToScroll:s.slidestoshow?s.slidestoshow:1,autoplay:s.autoplay,responsive:!!s.responsive&&slick_response(s.responsive),dots:!0,adaptiveHeight:s.adaptive,lazyLoad:s.lazyload,centerMode:s.centerMode,variableWidth:s.variableWidth,infinite:s.infinite};if(s.dots.link&&(r.customPaging=function(e,t){var a=$("#"+s.id).find(".list .slick-slide[data-slick-index="+t+"]"),n=$(a).data("dots")?$(a).data("dots"):t+1,o=$(a).data("name")?'class="dots-'+$(a).data("name")+'"':"";return'<a href="'+($(a).attr("href")?$(a).attr("href"):$(a).attr("data-href"))+'" '+o+">"+n+"</a>"}),s.dots.htm&&(r.customPaging=function(e,t){return"i"==s.dots.htm?"<i></i>":s.dots.htm}),$(s.dom.list).on("init",(function(){$(s.dom.div).hasClass("on")||$(s.dom.div).addClass("on"),$("#"+n).find(".dots .after").remove()})),$(s.dom.list).slick(r),fs.slide.spanmedia[""+n]=!0,s.dots.over&&$("#"+n).find(".dots ul li").on("mouseover",(function(){$(s.dom.list).slick("goTo",$(this).index(),!0)})),$("#"+n).find(".ctrl a").click((function(){$(s.dom.list).addClass("ctrl-on"),$(s.dom.list).on("afterChange",(function(e,t,a){clearTimeout(n);var n=window.setTimeout((function(){$(s.dom.list).removeClass("ctrl-on")}),400)}))})),$(s.dom.list).on("afterChange",(function(e,t,a){s.blazy&&bLazy.revalidate()})),s.lzy){var l=$(s.dom.list).find(".lzy");$(s.dom.div).hover((function(){slick_lzy(s.dom.div,l)})),$(s.dom.list).on("afterChange",(function(e,t,a){slick_lzy(s.dom.div,l)})),$(s.dom.div).bind("touchstart touchend",(function(e){slick_lzy(s.dom.div,l)})),cssua.ua.mobile&&slick_lzy(s.dom.div,l)}}}else o&&($(s.dom.list).slick("unslick"),fs.slide.spanmedia[""+n]=!1),s.native&&s.lzy&&mediakur(s.native)&&slick_native(s.dom.div,s.dom.list)}function slick_response(e){return{4321:[{breakpoint:961,settings:{slidesToShow:3,slidesToScroll:3}},{breakpoint:767,settings:{slidesToShow:2,slidesToScroll:2}},{breakpoint:420,settings:{slidesToShow:1,slidesToScroll:1}}],321:[{breakpoint:961,settings:{slidesToShow:3,slidesToScroll:3}},{breakpoint:767,settings:{slidesToShow:2,slidesToScroll:2}},{breakpoint:530,settings:{slidesToShow:1,slidesToScroll:1}}]}[e]}function slick_view(e,t,a,s){var n=$("#"+e.id).find(".item.slick-active");$(n).hasClass("view-on")||$(n).addClass("view-on")}function slick_lzy(e,t,a){if(!$(e).hasClass("on-lzy")){$(t).each((function(e){!(a&&e<a)&&($(this).attr("src",$(this).data("lzy")),$(this).removeAttr("data-lzy"))})),$(e).addClass("on-lzy")}}function slick_native(e,t){var a=$(t).find(".item:nth-child(2) .real");$(a).attr("src",$(a).data("lzy")),$(a).removeAttr("data-lzy");var s=$(t).find(".lzy");$(e).bind("touchstart touchend",(function(t){slick_lzy(e,s,1)}))}function _tema_tab(){$(".tab-nav a").click((function(e){var tabgroup=$(this).data("tab"),tabscript=!!$(this).data("script")&&$(this).data("script"),tabindex=$(this).index();console.log(tabgroup),$(".tab-nav a").removeClass("on"),$(this).addClass("on"),$(".tab-"+tabgroup+" > *").removeClass("on"),$(".tab-"+tabgroup+" > *:nth-child("+(tabindex+1)+")").addClass("on"),tabscript&&eval(tabscript+"()"),e.preventDefault()}))}function unArry(e,t,a){return $(e).each((function(s,n){a||n!=t||(delete e[s],e.splice(s,1)),a&&s==t&&(delete e[s],e.splice(s,1))})),e}function isKey(e,t){return-1!=e.indexOf(t)}function block_load(scop,url,clear){return!!app.session&&(3==app.user.mod?(console.log("User Mod 3 (Cari) oldugu icin cariye gore content yukleme devre disi kaldi"),!1):void $(".block-load").each((function(e){var e=$(this),s=$(e).data("set"),all=!!scop;scop&&scop!=s.name||(_bl_open(scop,s),window.setTimeout((function(){url=url||s.url,$.post(url,{output:!!s.out&&s.out},(function(data){if(data="object"==typeof data?data:$.parseJSON(data),data.err)return $(e).html(""),"session"==data.err&&session({js:{name:"block_load",param:scop}}),_bl_exit(scop,s),!1;$(e).html(data.body),"all"==s.onBody&&($("body").addClass(data.meta.class.body),_onBodyLod(!1)),app.cari.sepet=!!data.app.sepet&&data.app.sepet;let pc=data.meta.page;"sepet"==pc.mod&&(app.data.entry=data.entry),"urun"==pc.sub&&(app.data.entry=data.entry),"cek"==pc.cat&&(app.data.entry=data.entry),"page"==s.js?(data.app.block=!0,eval("_page_"+data.app.mod+"(data.app)")):s.js&&eval(s.js),fs.lazyLoad&&fs.lazyLoad.update(),_bl_exit(scop,s)}))}),300))})))}function _bl_open(e,t){t.onBody&&_onBodyLod(!0),"all"==t.onBody&&(_onBodyHas(!1),_onBodyLod(!0)),"cari"==e&&"urun"==set.page.sub&&$("html").addClass("load-url out")}function _bl_exit(e){if("cari"==e){if("urun"==set.page.sub&&window.setTimeout((function(){$("html").removeClass("load-url out")}),700),!app.session)return!1;_sepet_load()}}function base64(e,t){var a=new FileReader;return a.onload=function(){var e=a.result;$(t).val(e)},a.readAsDataURL(document.getElementById(e).files[0])}function capa(json){var set=json;if(set.hiz=set.hiz?set.hiz:400,set.pay=set.pay?set.pay:0,set.run=!!set.run&&set.run,!set.top&&!set.dom)return console.log("capa icin dom veya top set'in degeri gerekli"),!1;set.top=set.top?set.top:$(set.dom).offset().top-set.pay;var scrollElem=scrollableElement("html","body");set.hiz>1?$(scrollElem).animate({scrollTop:set.top},set.hiz,(function(){set.run&&eval(set.run+"()")})):$(scrollElem).scrollTop(set.point)}function setCookie(e,t,a){var s=new Date;s.setTime(s.getTime()+24*a*60*60*1e3);var n="expires="+s.toUTCString();document.cookie=e+"="+t+";"+n+";path=/"}function getCookie(e){for(var t=e+"=",a=decodeURIComponent(document.cookie).split(";"),s=0;s<a.length;s++){for(var n=a[s];" "==n.charAt(0);)n=n.substring(1);if(0==n.indexOf(t))return n.substring(t.length,n.length)}return""}function checkCookie(){var e=getCookie("username");""!=e?alert("Welcome again "+e):""!=(e=prompt("Please enter your name:",""))&&null!=e&&setCookie("username",e,365)}function css(e,t,a,s){if(s)return window.setTimeout((function(){a?$(e).addClass(t):$(e).removeClass(t)}),s),!1;a?$(e).addClass(t):$(e).removeClass(t)}function dateTime(){var e=new Date;return e.getFullYear()+"-"+(e.getMonth()+1).toString().padStart(2,"0")+"-"+e.getDate().toString().padStart(2,"0")+" "+e.getHours().toString().padStart(2,"0")+":"+e.getMinutes().toString().padStart(2,"0")+":"+e.getSeconds().toString().padStart(2,"0")}function dateDiff(e,t){let a=new Date(e),s=new Date(t);return Math.floor((Date.UTC(s.getFullYear(),s.getMonth(),s.getDate())-Date.UTC(a.getFullYear(),a.getMonth(),a.getDate()))/864e5)}function err(e){let t={customClass:{container:"sw-err"},width:400,text:""};t.text="Bir sorun oluştu, tekrar deneyiniz",Swal.fire(t)}function find(input,j){if(!j||!j.span)return!1;let name=$(input).attr("name").replace("find-",""),span,item,val,str,on,i;if(span=document.getElementById(j.span),item=document.querySelectorAll(j.item?j.item:"#"+j.span+" > li"),str=input.value.toUpperCase(),on=!!fs.find[j.span]&&fs.find[j.span],$(".find-"+name+" input").val(input.value),str&&!on&&(j.snc&&$(".find-"+name).addClass("on"),j.js&&eval("_find_"+name+"(true)"),span.classList.add("iskey"),fs.find[j.span]=!0,$(".tab-find-cek").hasClass("on")&&$(".tab-find-cek").addClass("op").removeClass("on")),!str&&on){for(let e=item.length-1;e>=0;e--)item[e].classList.remove("onkey");return j.snc&&$(".find-"+name).removeClass("on"),j.js&&eval("_find_"+name+"(false)"),span.classList.remove("iskey"),$(".tab-find-cek").hasClass("op")&&$(".tab-find-cek").addClass("on").removeClass("op"),fs.find[j.span]=!1,!1}for(i=0;i<item.length;i++){let e="root"==j.scop?item[i]:item[i].getElementsByTagName(j.scop?j.scop:"a")[0],t=e.textContent||e.innerText;t.toUpperCase().indexOf(str)>-1?item[i].classList.add("onkey"):item[i].classList.remove("onkey")}}function _find_reset(g){let j=g.js,r=g.rel,n=".find-"+r,i=n+" input";$(n).removeClass("on"),$(i).val(""),j&&eval("_find_"+r+"(false)"),$(".tab-find-"+r).addClass("on").removeClass("op"),$("#list-"+r+" > .onkey").removeClass("onkey"),$("#list-"+r).removeClass("iskey"),fs.find["list-"+r]=!1}function goBack(){window.history.back()}function imza(){var e=document.getElementById("imza-pad");signaturePad=new SignaturePad(e,{backgroundColor:"rgb(255, 255, 255)",onEnd:function(){hasSignature=!0}});function t(){if(hasSignature)var t=signaturePad.toDataURL();var a=Math.max(window.devicePixelRatio||1,1);e.width=e.offsetWidth*a,e.height=e.offsetHeight*a,e.getContext("2d").scale(a,a),hasSignature?signaturePad.fromDataURL(t):signaturePad.clear()}window.onresize=t,t(),$(document).on("click",".imza-clear",(function(){signaturePad.clear()}))}function imzaHas(){return signaturePad.isEmpty()}function imzaClear(){signaturePad.clear()}function imzaData(){return signaturePad.toData()}function isNumeric(e){return!isNaN(parseFloat(e))&&isFinite(e)}function isset(e){return void 0!==e}function kdv(e,t){return e*t/100+e}function kit(e){if("url-snc"==e){const e=document.querySelectorAll("a[data-usnc]"),t=window.location.origin;if(!e.length)return!1;let a,s,n,o;return Object.entries(e).forEach((([e,i])=>{a=JSON.parse(i.dataset.usnc),s=i.getAttribute("href"),o="http"==s.substr(0,4)||"www."==s.substr(0,4),n=new URL(o?s:t+s),a.sub&&a.sub.forEach((function(e){let t=new URL(decodeURIComponent(n.searchParams.get(e)));a.c&&a.c.forEach((function(e){t.searchParams.set(e,app.cari.tur.id)})),a.z&&a.z.forEach((function(e){t.searchParams.set(e,app.user.z.code)})),n.searchParams.set(e,t)})),a.c&&a.c.forEach((function(e){n.searchParams.set(e,app.cari.tur.id)})),a.z&&a.z.forEach((function(e){n.searchParams.set(e,app.user.z.code)})),s=o?n:n.href.replace(t,""),i.setAttribute("href",s)})),!1}if("RootStyle"==e){return document.documentElement.style.setProperty("--app-body",set.win.y-112+"px"),!1}$(document).on("click",'a[href="#"]',(function(e){e.preventDefault()})),$(document).on("click",".trig",(function(e){$($(this).attr("rel")).click()})),$(document).on("click",".cac-rst",(function(e){Swal.fire({confirmButtonText:"Yenile",cancelButtonText:"Vazgeç",title:"Yenile",text:"Sayda cache verisini sıfırlayıp yüklemek istediğinden emin misiniz ?",width:335,reverseButtons:!0,showCancelButton:!0,animation:!1,customClass:{cancelButton:"remove",popup:"sw-ios sw-note sw-confirm animated fadeIn"}}).then((e=>{if(e.value){$("html").addClass("query"),"cari"==set.page.cat&&_cari_sec(!1,{reset:!0}),href("reset","page");let e=set.page.current.replace("?reset=page","");window.history.pushState("object or string","Title",e)}}))})),$(document).on("click","a.confirm",(function(){let e=$(this),t=$(e).data("confirm");t="frame"==t?"Bu bölüm hazır olmadığı için eski yapıdaki dış bağlantıya yönlendiriliyorsunuz":t,event.preventDefault(),Swal.fire({confirmButtonText:"Tamam",cancelButtonText:"Vazgeç",title:"Dış Bağlantı",text:t,width:335,reverseButtons:!0,showCancelButton:!0,animation:!1,customClass:{cancelButton:"remove",popup:"sw-ios sw-note sw-confirm animated fadeIn"}}).then((t=>!!t.value&&($.address.value($(e).attr("href")),!0)))}))}function kit_lazy(){if(fs.run.lazy)return!1;fs.run.lazy=!0,fs.lazyLoad=new LazyLoad({elements_selector:".lazy",load_delay:300})}function mediakur(e){var t=!0;if(e){var a,s=e.substr(2,1),n=e.substr(0,2);if("+"==s)switch(n){case"ms":a=0;break;case"xs":a=set.media.ms;break;case"sm":a=set.media.xs;break;case"md":a=set.media.sm;break;case"lg":a=set.media.md}"+"==s&&(t=set.win.x>a),"-"==s&&(t=set.win.x<set.media[n]+1)}return t}function noScroll(e){e?(fs.noScroll=$(window).scrollTop(),$("#h").addClass("no-scroll"),_pb_destory()):($("#h").removeClass("no-scroll"),waitForFinalEvent((function(){$(window).scrollTop(fs.noScroll),fs.noScroll=!1}),100,".."),pull_refresh())}function nPar(e,t){if(t&&isNumeric(e))return e;var a=".";return(e=(e=e||"").replace(/[^0-9$.,]/g,"")).indexOf(",")>e.indexOf(".")&&(a=","),(e.match(new RegExp("\\"+a,"g"))||[]).length>1&&(a=""),""!=a&&e.length-e.indexOf(a)-1==3&&0!==e.indexOf("0"+a)&&(a=""),e=(e=e.replace(new RegExp("[^0-9$"+a+"]","g"),"")).replace(",","."),parseFloat(e)}function nFor(e,t,a,s,n){t=(t="market"==set.page.cat||"sepet"==set.page.mod?app.market.onda:t)||0===t?Math.abs(t):2,e=parseFloat(e),a&&s||(a=",",s=".");for(var o=Math.round(Math.abs(e)*("1e"+t))+"";o.length<t;)o="0"+o;for(var i=t?o.slice(0,-1*t)||0:o,r=t?o.slice(-1*t):"",l="";i.length>3;)l+=s+i.slice(-3),i=i.slice(0,-3);if(t&&1===r.length)for(;r.length<t;)r+=r;var d=(e<0?"-":"")+i+l+(r?a+r:"");return n?d.replace(",",""):d}function nHtm(e){return"<span>"+(e=(e=nFor(e)).split(","))[0]+"</span><sup>,"+e[1]+"</sup>"}function nFix(e,t){return t=t||2,parseFloat(e.toFixed(t))}function nFit(e){let t;if(t=e.toString(),t=t.split("."),!t[1])return e;let a=!!t[1]&&t[1].substr(0,2);return t=Number(t[0]+"."+a),t}function mKur(e,t,a){if(t)switch(t){case 0:$str="₺";break;case 1:$str="$";break;case 2:$str="€";break;case 6:$str="f";break;default:$str="₺"}let s="₣";return a&&(s="ico"==a.chf?'<i class="icon-franc"></i>':s,s="htm"==a.chf?'<dd class="chf">f<i>i</i></dd>':s,s="txt"==a.chf?"₣":s),e="CHF"==e?s:e}function percent_diff(e,t){var a=100-100/e*t;return nFix(a=a>0?a:0)}function percent_disc(e,t,a,s){var n=a?100/e*t:100-100/e*t;return n=n>0?n:0,s?n:nFix(n)}function ofPoint(e){e=e?$(e):$("html"),$(e).addClass("of-point")}function onPoint(e){e=e?$(e):$("html"),$(e).removeClass("of-point")}let refresh;function pull_refresh(){refresh=PullToRefresh.init({mainElement:"body",triggerElement:"#reload",onRefresh(){fs.refresh&&($("html").addClass("query"),window.location.reload())}})}function _pb_destory(){refresh.destroy()}function reset(){}function screen(e,t){var a="ovrly-"+(t=t||"one");e?$("html").addClass(a):$("html").removeClass(a)}function scrollableElement(e){for(var t=0,a=arguments.length;t<a;t++){var s=arguments[t],n=$(s);if(n.scrollTop()>0)return s;n.scrollTop(1);var o=n.scrollTop()>0;if(n.scrollTop(0),o)return s}return[]}function stick(e,t,a){fs.stick[e]=!1;var s=$(window).scrollTop(),n=fs.stick[e],o={c:"stick-"+e,v:e,p:t,of:a};s<e-1&&n&&stickOf(o),s>e-1&&!n&&stickOn(o),$(window).scroll((function(t){s=$(window).scrollTop(),n=fs.stick[e],s<e-1&&n&&stickOf(o),s>e-1&&!n&&stickOn(o)}))}function stickOf(e){$("body").removeClass(e.c),e.of&&$(e.p).addClass("of");var t=e.of?e.of:0;clearTimeout(a);var a=window.setTimeout((function(){$(e.p).removeClass("on of"),fs.stick[e.v]=!1}),t)}function stickOn(e){$("body").addClass(e.c),$(e.p).addClass("on"),fs.stick[e.v]=!0}function str_pos(e,t,a){var s=(e+"").indexOf(t,a||0);return-1!==s&&s}function ucFirst(e){return e.charAt(0).toUpperCase()+e.slice(1).toLowerCase()}function capitalize(e){let t=e.split(" "),a=new Array;return $.each(t,(function(e,t){a[e]=t.substr(0,1).toUpperCase()+t.substr(1).toLowerCase()})),a.join(" ")}function href(e,t){var a=window.location.href,s=new RegExp("[&\\?]"+e+"=");s.test(a)?(s=new RegExp("([&\\?])"+e+"=\\d+"),window.location.href=a.replace(s,"$1"+e+"="+t)):a.indexOf("?")>-1?window.location.href=a+"&"+e+"="+t:window.location.href=a+"?"+e+"="+t}function delcss(e,t){e.classlist.remove(t)}function addcss(e,t){e.classlist.add(t)}fs.info={open:!1,case:{1:{stat:!1,name:"market-start",key:1},2:{stat:!1,name:"market-reyon",key:2}}},fs.slide={media:!1,count:0,span:{},spanmedia:{},surum:4,storage:!1},localStorage.slide&&(fs.slide.storage=JSON.parse(localStorage.slide),fs.slide.storage.surum!=fs.slide.surum&&(localStorage.removeItem("slide"),fs.slide.storage=!1)),fs.find={},fs.noScroll=!1,fs.refresh=!0,$.fn.serializeObject=function(){var e={},t=this.serializeArray();return $.each(t,(function(){void 0!==e[this.name]?(e[this.name].push||(e[this.name]=[e[this.name]]),e[this.name].push(this.value||"")):e[this.name]=this.value||""})),e},fs.stick={},$(document).on("click",".under",(function(e){return Swal.fire({text:$(this).data("mesaj")?$(this).data("mesaj"):"Bu bölüm geliştiriliyor",width:350,customClass:{popup:"sw-ios sw-note sw-ok"}}),!1}));var waitForFinalEvent=function(){var e={};return function(t,a,s){s||(s="Don't call this twice without a uniqueId"),e[s]&&clearTimeout(e[s]),e[s]=setTimeout(t,a)}}();function wait_task(name,time){console.log(name),waitForFinalEvent((function(){console.log("run"),eval(name+"()")}),time,"some unique string")}function webView(e){console.log(e)}var form=_fx_set({make:"create"});function _fx_set(e){let t={submit:!1,data:!1,field:{},name:"main",prefix:!1,suffix:!1,sent:!1,err:!1,js:!1,e:!1,confirm:!1,feed:{api:"Üzgünüz işlem gerçekleştirilemedi, sayfayı bir kez yenileyip tekrar denemenizi öneririz."}};if("create"==e.make)return t;"reset"==e.make&&(form=t)}function form_post(){$(document).on("submit","form.fx",(function(event){ofPoint(),event.preventDefault(),$(this).removeClass("run");var e=$(this),s=!!$(e).data("set")&&$(e).data("set");if(!form.confirm&&s.confirm)return fx_confirm(e,s),!1;form.confirm=!1,form.name=$(e).attr("name")?$(e).attr("name"):form.name,form.e="#fx-"+form.name,form.prefix="main"==form.name?"":"-"+form.name,form.suffix="main"==form.name?"":form.name+"-",form.submit="#fx"+form.prefix+" .submit",form.err=s.err?s.err:form.err,form.js=s.js?s.js:form.js,form.sent=!1;let type=s&&s.type?s.type:"multipart/form-data"==$(e).attr("enctype")&&"FD",post={url:s.url?s.url:$(e).attr("action"),data:!1};if(post.url=post.url?post.url:"",$.each($(e).serializeArray(),(function(e,t){form.field[t.name]=t.value})),post.data="SA"==type?$(e).serializeArray():post.data,post.data="FD"==type?new FormData(this):post.data,post.data=post.data?post.data:$(e).serialize(),"FD"==type&&(post.enctype="multipart/form-data",post.contentType=!1,post.processData=!1),s.rel&&$.each($(".fx-rel-"+form.name),(function(e,t){let a=$(t).attr("type");"file"==a&&post.data.append($(t).attr("name"),$(t)[0].files[0]),"file"!=a&&post.data.append($(t).attr("name"),$(t).val())})),form.data=post.data,_fx_in(),form.js){let fxIn=!0===form.js?eval("_fx_in_"+form.name+"()"):eval(form.js);if(s.valid&&!fxIn)return _fx_out(!0),onPoint(),console.log("valid olmadı"),!1;post.data=form.data}console.log("fx in den cikti"),ofPoint(),$.post(post).done((function(json){form.data="object"==typeof json?json:$.parseJSON(json),form.sent=!0,clearTimeout(say);var say=window.setTimeout((function(){if(_fx_out(),form.js)var out=!0===form.js?eval("_fx_out_"+form.name+"()"):eval(form.js)}),600)}))})),$(document).on("click",".fx-submit",(function(e){$('form[name="'+$(this).attr("rel")+'"]').submit()})),$("form.fx.run").submit()}function _fx_in(){return $(form.e).removeClass("send-on nosent posted"),$(form.e).addClass("load"),$("html").removeClass(form.suffix+"form-nosent"),$("html").addClass(form.suffix+"form-load"),$(form.submit).attr("disabled","disabled"),$(form.submit).blur(),!0}function _fx_out(e){if(console.log("post cikti"),$("html").removeClass(form.suffix+"form-load"),$(form.e).removeClass("load"),$(form.e+" .hata").removeClass("hata"),$(form.submit).removeAttr("disabled"),e)return!1;var t=form.data;return t.result?($("html").addClass(form.suffix+"form-posted"),$(form.e).addClass("send-on posted"),$(form.submit).attr("data-load")&&$(form.submit).attr("value",$(form.submit).attr("data-value"))):($("html").addClass(form.suffix+"form-nosent"),$(form.e).addClass("send-on nosent"),form.err&&$.each(t.errors,(function(e,t){$(form.e+" .f-"+e).addClass("hata")})),form.feedback&&_fx_feedback()),onPoint(),!0}function fx_confirm(e,t){onPoint(),Swal.fire({confirmButtonText:"Gönder",cancelButtonText:"Vazgeç",text:t.confirm,reverseButtons:!0,showCancelButton:!0,customClass:{popup:"sw-ios sw-note sw-confirm"}}).then((t=>{if(!t.value)return!1;form.confirm=!0,$(e).submit()}))}function _fx_feedback(){}function form_type(){$().datepicker&&$(".datepicker-here.go").datepicker({onSelect:function(e,t,a){var s=$(a.el).data("perma")+"/"+e;window.location=s}}),$(document).on("focus",".field-find input",(function(){$(this).parent().addClass("focus")})),$(document).on("blur",".field-find input",(function(){let e=$(this).parent();window.setTimeout((function(){$(e).removeClass("focus")}),200)})),$(document).on("click",".field-find .find-reset",(function(){_find_reset({js:!!$(this).attr("js"),rel:$(this).attr("rel")})})),$(document).on("click",".e-val",(function(){$($(this).attr("rel")).val($(this).attr("value"))})),$(document).on("click","input.check",(function(e){e.stopPropagation();var t=$(this).parent();$(this).is(":checked")?($(this).prop("checked",!0),$(t).addClass("on")):($(this).prop("checked",!1),$(t).removeClass("on"))})),$(document).on("click","mask-switch",(function(e){e.stopPropagation(),$(this).hasClass("on")?($("#field-"+$(this).data("name")).prop("checked",!1),$(this).children("s").text("OFF"),$(this).removeClass("on")):($("#field-"+$(this).data("name")).prop("checked",!0),$(this).children("s").text("ON"),$(this).addClass("on"))})),$(document).on("click","input.radio",(function(){$(this).is(":checked")?(name=$(this).attr("name"),$('input[name="'+name+'"]').parent().removeClass("on"),$(this).parent().addClass("on")):$(this).parent().removeClass("on")})),__ft_input_load(),$(document).on("blur","input.e-upper",(function(e){var t=$(this).val().split(" "),a=new Array;$.each(t,(function(e,t){a[e]=t.substr(0,1).toUpperCase()+t.substr(1).toLowerCase()})),$(this).val(a.join(" "))})),$(document).on("blur",".e-emoji-unset",(function(e){$(this).val(un_emoji($(this).val()))}))}function un_emoji(e){return e.replace(/(?:[\u2700-\u27bf]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff]|[\u0023-\u0039]\ufe0f?\u20e3|\u3299|\u3297|\u303d|\u3030|\u24c2|\ud83c[\udd70-\udd71]|\ud83c[\udd7e-\udd7f]|\ud83c\udd8e|\ud83c[\udd91-\udd9a]|\ud83c[\udde6-\uddff]|\ud83c[\ude01-\ude02]|\ud83c\ude1a|\ud83c\ude2f|\ud83c[\ude32-\ude3a]|\ud83c[\ude50-\ude51]|\u203c|\u2049|[\u25aa-\u25ab]|\u25b6|\u25c0|[\u25fb-\u25fe]|\u00a9|\u00ae|\u2122|\u2139|\ud83c\udc04|[\u2600-\u26FF]|\u2b05|\u2b06|\u2b07|\u2b1b|\u2b1c|\u2b50|\u2b55|\u231a|\u231b|\u2328|\u23cf|[\u23e9-\u23f3]|[\u23f8-\u23fa]|\ud83c\udccf|\u2934|\u2935|[\u2190-\u21ff])/g,"")}function uppertext(e){var t=$(e).val().split(" "),a=new Array;$.each(t,(function(e,t){a[e]=t.substr(0,1).toUpperCase()+t.substr(1).toLowerCase()})),$(e).val(a.join(" "))}function __ft_input_load(){$().mask&&($("input.mask-money[onda=4]").mask("#.##0,0000",{reverse:!0}),$("input.mask-money[onda=2]").mask("#.##0,00",{reverse:!0}),$("input.mask-phone").mask("0(999) 999 99 99"),$("input.mask-birth").mask("99.99.9999"),$(".mask-num[maxlength=5]").mask("99999"),$(".mask-num[maxlength=4]").mask("9999"),$(".mask-num[maxlength=3]").mask("999"),$(".mask-num[maxlength=2]").mask("999"),$(".mask-num[maxlength=1]").mask("999"),$(".mask-cek").mask("999 99 99")),$().numeric&&$("input.numeric").numeric()}function nav_count(rst){if(rst){let e={name:!1,eksi:0,arti:0,temp:0,range:!1};return"create"==rst?e:(fs.navcnt=e,!1)}$(document).on("click","nav.count button",(function(e){var t,a,s;e.preventDefault(),t=$(this).parent();var n={max:(a="object"==typeof(a=$(t).data("set"))?a:$.parseJSON(a)).max?nPar(a.max):!!$(a.field).attr("max")&&nPar($(a.field).attr("max")),min:a.min?nPar(a.min):$(a.field).attr("min")?nPar($(a.field).attr("min")):0,val:nPar($(a.field).val()),range:{e:!1,onda:!1},name:a.field.replace("#",""),islem:$(this).attr("rel"),oran:1,onda:$(a.field).attr("onda")};if(fs.navcnt.name!=a.field&&nav_count("reset"),fs.navcnt.temp=n.val,a.range&&(n.range.e=".count-range[rel="+n.name+"]",n.range.onda=n.range.e+" .onda"),"money"==a.type&&"onda"==n.islem)return $(this).hasClass("on")?(a.range&&$(n.range.e).removeClass("onda"),$(this).removeClass("on"),a.onda=!1):(a.range&&$(n.range.e).addClass("onda"),$(this).addClass("on"),a.onda=!0),$(t).attr("data-set",JSON.stringify(a)),!1;if("money"==a.type&&(n.oran=a.onda?"4"==n.onda?1e-4:.01:n.oran),"arti"==n.islem){if((s=n.val+n.oran)==n.max||s>n.max){if($(this).hasClass("pause")||($(this).addClass("pause"),_nc_out(a,n,n.max)),a.msj&&fs.navcnt.arti>0){var o=a.msj.arti.replace("#1",n.max);Swal.fire({confirmButtonText:"Tamam",text:o})}return fs.navcnt.arti++,$(t).children(".eksi").removeClass("pause"),!1}fs.navcnt.arti=0,$(t).children(".eksi").removeClass("pause"),_nc_out(a,n,s)}if("eksi"==n.islem){if((s=n.val-n.oran)==n.min||s<n.min){if($(this).hasClass("pause")||($(this).addClass("pause"),_nc_out(a,n,n.min)),a.msj&&fs.navcnt.eksi>0){o=a.msj.eksi.replace("#1",n.min);Swal.fire({confirmButtonText:"Tamam",text:o})}return fs.navcnt.eksi++,$(t).children(".arti").removeClass("pause"),!1}fs.navcnt.eksi=0,$(t).children(".arti").removeClass("pause"),_nc_out(a,n,s)}return!1})),$(document).on("input",".count-range input",(function(){let r=fs.navcnt.range;if(!r){let e=$(this).hasClass("onda")?"onda":"sayi";fs.navcnt.range={sayi:"sayi"==e?"#"+$(this).attr("id"):"#"+$(this).prev().attr("id"),onda:"onda"==e?"#"+$(this).attr("id"):"#"+$(this).next().attr("id"),js:$(this).parent().attr("js"),olay:e}}if("sayi"==r.olay&&_nc_range_onda(r.onda,r.sayi),"onda"==r.olay){let e=$(r.sayi).val().split(".")[0]+"."+$(this).val();$(r.sayi).val(e)}r.js&&eval(r.js+"(r.olay)")})),$(document).on("blur touchend",".count-range input",(function(){nav_count("reset")}))}function _nc_range_onda(e,t){const a=$(t).attr("max").split("."),s=$(t).val().split(".");if(!s[1])return!1;$(e).val(1==s[1].length?s[1]+"0":s[1]),s[0]==a[0]?$(e).attr("max",a[1]):$(e).attr("max",99)}function _nc_out(arr,f,snc){let val=arr.range||"money"!=arr.type?snc:nFor(snc,f.onda);if($(arr.field).val(val),arr.out){let e="money"==arr.type?nFor(snc):snc;$(arr.out).html(e)}if(arr.js){let j={val:snc};arr.id&&(j.id=arr.id),console.log(j),eval(arr.js+"(j)")}arr.range&&_nc_range_onda(f.range.onda,arr.field),fs.navcnt.temp=0}function nav_select(){$(document).on("click","nav.select button",(function(event){var nav,arr,snc;event.preventDefault(),nav=$(this).parent(),arr=$(nav).data("set");var f={islem:$(this).attr("rel"),val:$(arr.field).val()};if(snc="next"==f.islem?$(arr.field+" option[value="+f.val+"]").next("option"):$(arr.field+" option[value="+f.val+"]").prev("option"),0==snc.length)return!1;snc=$(snc).attr("value"),$(arr.field).val(snc),arr.js&&eval(arr.js+"()")}))}function modal(){$(document).on("click",".modal-prev",(function(e){fs.modal.prev=!0,_modal_of("prev")})),$(document).on("click",".modal-next",(function(e){if($(this).data("modal").before)return!1;fs.modal.next=!0,_modal_of("next")})),$(document).on("click",".modal-close",(function(e){_modal_of()})),$(document).keydown((function(e){27==e.keyCode&&_modal_of()})),$(document).on("click",".modal-prev,.modal-next,.modal-show,.modal-link a,.modal-list > *",(function(event){if(!app.session&&!app.guest)return session(),!1;let e,s,sa,sb;if(event.preventDefault(),e=$(this),s=$(e).data("modal"),fs.touchs)return!1;let prev=!!$(e).hasClass("modal-prev"),next=!!$(e).hasClass("modal-next");if(fs.modal.prev=prev,fs.modal.next=next,!prev&&!next&&fs.app.edit&&(!s||s&&!s.edit))return!1;let action=!1;if(action=prev?"prev":next?"next":action,action=!action&&$(e).hasClass("modal-show")?"show":action,action=!action&&$(e).parent().hasClass("modal-list")?"list":"link",s=s||"list"!=action?s:$(e).parent().data("modal"),s=s&&s.extend?fs.modal.set[s.extend]:s,("list"==action||"link"==action)&&$(e).attr("set")){let t;t=$(e).attr("set"),t=fs.modal.set[t]?Object.assign({},fs.modal.set[t]):$(".set-"+t).data("modal"),t?s=_modal_set_merge(e,s,t):console.log("error: extend bagi bulunamadi")}if(!s){let t=_modal_set_find("modal",e,action);s=!!t&&(fs.modal.set[t]?Object.assign({},fs.modal.set[t]):{name:t}),s&&(s=_modal_set_merge(e,null,s))}if(!s.name&&prev){let e=fs.modal.temp.prev;e=e.length>0&&e[e.length-1],s=s?{...s,...e}:e}if(s.prev||s.next||(prev&&(s.prev=!0),next&&(s.next=!0)),s.before){if(!eval(s.before))return!1;(prev||next)&&_modal_of(prev?"prev":"next")}if(s.openit){if(!eval(s.openit))return!1;(prev||next)&&_modal_of(prev?"prev":"next")}if(!s)return console.log("error : modal set bos"),!1;if(s.ajax){var ajxLoad,ajxModal,ajxTime;ajxLoad="#modal-ajax .data",ajxModal="#modal-ajax",ajxTime=0,$(ajxModal).addClass("load"),$("html").hasClass("on-modal")?($(ajxLoad).slideUp("fast"),ajaxTime=500):_modal_on(s);var prefix=str_pos($(e).attr("href"),"ttp://")?"":set.page.url;window.setTimeout((function(){$(ajxLoad).html(""),$.get(prefix+$(e).attr("href"),{ajax:!0,modal:!0},(function(e){$(ajxLoad).html(e),window.setTimeout((function(){$(ajxLoad).slideDown("fast"),$(ajxModal).removeClass("load")}),500)}))}),ajaxTime)}else _modal_on(s)}))}function _modal_set_find(e,t,a){let s=!1;if("modal"==e)return s=$(t).attr("modal"),s=s||"list"!=a?s:$(t).parent().attr("modal"),s=s||"link"!=a?s:$(t).parent().attr("modal"),s=s||"link"!=a?s:$(t).parent().parent().attr("modal"),s=s||"link"!=a?s:$(t).parent().parent().parent().attr("modal"),s}function _modal_set_merge(e,t,a){if(a.attr&&($.each(a.attr,(function(t,s){2==s&&(a[t]=$(e).parent().parent().attr(t)),1==s&&(a[t]=$(e).parent().attr(t)),0==s&&(a[t]=$(e).attr(t))})),delete a.attr),a.key){let t=a.key;"object"==typeof t?(2==t.u&&(a.key=$(e).parent().parent().attr(t.t)),1==t.u&&(a.key=$(e).parent().attr(t.t)),0==t.u&&(a.key=$(e).attr(t.t))):a.key=$(e).attr("key"),a.key=!!a.key&&a.key}return a.id&&(a.id=$(e).attr("id")),t=t?{...t,...a}:a}function _modal_on(s){let m=Object.assign({},fs.modal),name=s.name?s.name:"ajax",span="#modal-"+name;if("last"==s.of&&_modal_of(),fs.modal.box[name])return!1;0==Object.keys(m.tab).length&&$("html").addClass(s.css),s.open=!0,m.last.tab=m.last.tab+1,m.tab[m.last.tab]=name,m.box[name]=s,m.last.box=s.name,m.last.tab>10&&$("#modal-"+m.tab[m.last.tab-1]).addClass("blur"),$(span).addClass("on").attr("index",m.last.tab),clearTimeout(one_time);var one_time=window.setTimeout((function(){window.setTimeout((function(){$("html").addClass("on-modal")}),20),$(span).addClass("on-start")}),65);"ajax"==name&&s.format&&$(span).addClass("f-"+s.format),s.js&&(!0===s.js?eval("_modal_"+name.replace("-","_")+"_js(s)"):eval(s.js)),s.prev&&(fs.modal.temp.prev=unArry(fs.modal.temp.prev,fs.modal.temp.prev.length-1,!0)),fs.modal.prev=!1,fs.modal.next=!1}function _modal_of(get){var m=Object.assign({},fs.modal);if($("#gallery").hasClass("pswp--open"))return!1;if(Swal.isVisible())return!1;if(!m.last.box)return!1;let name=get&&get.modal?get.modal:m.last.box,path="#modal-"+name,e=m.box[name];if($(path).addClass("on-close"),m.next){let e=Object.assign({},m.box[name]);delete e.open,delete e.prev,delete e.next,m.temp.prev.push(e)}m.next||m.prev||(m.temp.prev=[],m.temp.next=[]),m.prev=!1,m.next=!1,1==Object.keys(m.tab).length&&$("html").removeClass("on-modal m-in m-"+name),"ajax"==name&&$(path+" .data").html(""),e.open=!1,fs.modal.box[name]=e,e.js&&(!0===e.js?eval("_modal_"+name.replace("-","_")+"_js(get)"):eval(e.js)),delete m.box[m.last.box];var tab=m.last.tab;tab>9&&delete m.tab[m.last.tab],tab-=1,m.last.box=tab>9&&m.tab[tab],m.last.tab=tab>9?tab:9,$("#modal-"+m.tab[tab]).removeClass("blur"),fs.modal=m,clearTimeout(of_time);var of_time=window.setTimeout((function(){$(path).removeClass("on on-close on-start")}),400)}function table(){var dt=fs.dt;if(fs.dt.touch.ceksil.size=60*set.win.x/100,fs.dt.touch.ceksil.open=!!$(".ul-table").hasClass("f-ceksil"),fs.dt.touch.tutsec.open=!!$(".ul-table").hasClass("f-tutsec"),fs.run.table)return!1;fs.run.table=!0,$(document).on("click",dt.for,(function(e){$("#c-"+$(this).attr("id")).click()})),$(document).on("click",".e-tdKdv",(function(e){if($(dt.e).hasClass("no-kdv"))return!1;var t=dt.td;return t.kdv?($(".cxt-edit .e-tdKdv").text("MwSt'siz Toplamı Göster"),$(".dt-tutar").removeClass("of-kdv"),$(dt.e).removeClass("of-kdv"),t.kdv=!1):($(".cxt-edit .e-tdKdv").text("MwSt Dahil Toplam Göster"),$(".dt-tutar").addClass("of-kdv"),$(dt.e).addClass("of-kdv"),t.kdv=!0),e.preventDefault(),!1})),$(document).on("click",".e-tdBrm",(function(e){var t=dt.td;return"brm"==t.adet?($(dt.e).addClass("of-brm"),t.adet="urn"):($(dt.e).removeClass("of-brm"),t.adet="brm"),e.preventDefault(),!1})),$(document).on("click",".e-tdEdit",(function(e){let t;t=getCookie(fs.dt.td.name+"ctrl"),t=""==t?"on":t;var a=fs.dt.td;return console.log(a.ctrl),a.ctrl=a.ctrl?"on":"of",console.log(a.ctrl),console.log(t),a.ctrl=t!=a.ctrl?t:a.ctrl,"on"==a.ctrl?($(".cxt-edit .e-tdEdit").text("Adet Kontrolünü Aç"),setCookie(a.name+"ctrl","of"),$(dt.e).addClass("of-edit"),fs.dt.td.ctrl=!1):($(".cxt-edit .e-tdEdit").text("Adet Kontrolünü Kapat"),$(dt.e).removeClass("of-edit"),setCookie(a.name+"ctrl","on"),fs.dt.td.ctrl=!0),e.preventDefault(),!1})),$(".dtc-filter").on("click",(function(){$(".dt-filter").hasClass("on")})),$(".dtc-view a").on("click",(function(){var e,t,a,s;s=$(this).hasClass("next")?"next":"prev",e=fs.dt.on_view,t="next"==s?e+1:e-1,a=dt.views[t],$(dt.e).removeClass("t-"+e),$(dt.e).addClass("t-"+t),$(".dtc-view .sum").text(a),fs.dt.on_view=t,1==t?$(".dtc-view .prev").addClass("off"):$(".dtc-view .prev").removeClass("off"),3==t?$(".dtc-view .next").addClass("off"):$(".dtc-view .next").removeClass("off")})),$(document).on("click",".dtc-rel-reset",(function(){$(".dtc-rel a").removeClass("on"),$(".dt-list").attr("rel",""),$(".dt-list").attr("sort",""),fs.dt.action.rel.js&&eval(fs.dt.action.rel.js+'("reset")')})),$(document).on("click",".dtc-rel a",(function(){$(".dtc-rel a").removeClass("on"),$(this).addClass("on");let e=$(this),sort=!!$(this).attr("sort")&&$(this).attr("sort"),rel=!!$(this).attr("rel")&&$(this).attr("rel");sort&&($(".dt-list").attr("sort",sort),$(".dt-list").attr("rel","")),rel&&($(".dt-list").attr("rel",rel),$(".dt-list").attr("sort",""));let get=rel||sort;fs.dt.action.rel.js&&eval(fs.dt.action.rel.js+"(get,e)")})),$(document).on("click",".dtc-checks",(function(){$(this).hasClass("on")?_dt_of_select():_dt_on_select()})),_dt_select_remove(),_dt_record_check(),_dt_swipe_remove(),_dt_trash_remove(),_dt_publish_on(),_dt_publish_of()}function _dt_publish_on(){var dt=fs.dt;$(".dtc-on-publish").on("click",(function(){Swal.fire({confirmButtonText:!v.button||v.button[1],cancelButtonText:!v.button||v.button[0],text:v.text?v.text:"Seçilen kayıtları yayınlamak istediğiniz den emin misiniz ?",width:458,reverseButtons:!0,showCancelButton:!0,customClass:{confirmButton:"remove"}}).then((result=>{result.value&&v.callback&&eval(v.callback+"()")}))}))}function _dt_publish_of(){var dt=fs.dt;$(".dtc-no-publish").on("click",(function(){Swal.fire({confirmButtonText:!v.button||v.button[1],cancelButtonText:!v.button||v.button[0],text:v.text?v.text:"Seçilen kayıtlar yayından kaldırmak istediğiniz den emin misiniz ?",width:458,reverseButtons:!0,showCancelButton:!0,customClass:{confirmButton:"remove"}}).then((result=>{result.value&&v.callback&&eval(v.callback+"()")}))}))}function _dt_select_remove(){var dt=fs.dt;$(document).on("click",".dtc-remove",(function(){var c=dt.checkeds.tot;if("all"!=c.tot&&c.tot<1)return!1;var v=dt.action.unSelect;Swal.fire({confirmButtonText:v.button?v.button[1]:"Sil",cancelButtonText:v.button?v.button[0]:"Vazgeç",text:v.text?v.text:"Seçilen kayıtları silmek istediğiniz den emin misiniz ?",width:320,reverseButtons:!0,showCancelButton:!0,customClass:{confirmButton:"remove",popup:"sw-ios sw-note sw-confirm"}}).then((result=>{result.value&&v.callback&&eval(v.callback+"()")}))}))}function _dt_trash_remove(){var dt=fs.dt;$(document).on("click",".dtc-trash",(function(){var v=dt.action.trash;Swal.fire({confirmButtonText:v.button?v.button[1]:"Hepsini Sil",cancelButtonText:v.button?v.button[0]:"Vazgeç",text:v.text?v.text:"Tüm içeriği silmek istediğinizden emin misiniz ?",width:v.width?v.width:320,reverseButtons:!0,showCancelButton:!0,customClass:{confirmButton:"remove",popup:"sw-ios sw-note sw-confirm"}}).then((result=>{if(result.value){if(!v.callback)return!1;eval(v.callback+"()")}}))}))}function _dt_record_check(){var e=fs.dt;$(document).on("click",e.checkbox,(function(){var t=fs.dt.checkeds,a=$(this).val();$(this);$(this).is(":checked")?($("#"+a).addClass("checked"),0==t.tot&&$(fs.dt.e).addClass("checked-on"),t.tot=t.tot+1,t.val.push(a),$(".dtc-checkeds").removeClass("hidden")):($("#"+a).removeClass("checked"),t.val=unArry(t.val,a),t.tot=t.tot-1,0==t.tot&&($(".dtc-checkeds").addClass("hidden"),$(e.e).removeClass("checked-on"))),fs.dt.checkeds=t}))}function _dt_on_select(){var e=fs.dt;$(e.e+" .tbody > li:not(.of) .mask-check").addClass("on"),$(e.e).addClass("checked-on"),$(e.li).addClass("checked"),$(e.checkbox).prop("checked",!0),fs.dt.checkeds.tot="all",fs.dt.checkeds.val="all",$(".dtc-checks .in").text("Seçimi Kaldır"),$(".dtc-checks").addClass("on"),$(".dtc-checkeds").removeClass("hidden"),_dt_checked_after()}function _dt_of_select(){var e=fs.dt;$(e.e+" .mask-check").removeClass("on"),$(e.e).removeClass("checked-on"),$(e.li).removeClass("checked"),$(e.checkbox).prop("checked",!1),fs.dt.checkeds.tot=0,fs.dt.checkeds.val=[],$(".dtc-checks .in").text("Hepsini Seç"),$(".dtc-checks").removeClass("on"),$(".dtc-checkeds").addClass("hidden"),_dt_checked_after()}function _dt_checked_after(){$(".bc-side .dt-check blockquote b b ").text(fs.dt.checkeds.tot),fs.dt.checkeds.tot>1?$(".bc-side .dt-check").addClass("cok"):$(".bc-side .dt-check").removeClass("cok")}function _dt_checked_bar(){_dt_checked_after(),fs.dt.checkeds.tot}function _dt_td_chk(e){e?$(fs.dt.e).addClass("on-chk"):($(fs.dt.e).removeClass("on-chk"),_dt_of_select(),fs.dt.checkeds.val=[],fs.dt.checkeds.tot=0)}function _dt_swipe_remove(){var j=fs.dt.touch,sil=fs.dt.touch.ceksil,tut=fs.dt.touch.tutsec;$(j.e).swipe({swipeStatus:function(event,phase,direction,distance,duration,fingerCount){if(!fs.app.edit){var e=$(this);if("start"==phase&&(sil=fs.dt.touch.ceksil,tut=fs.dt.touch.tutsec,$(e).parent().addClass("t-start"),sil.as=$(e).next(),tut.open&&(clearTimeout(tut.time),tut.time=window.setTimeout((function(){console.log("edit"),fs.modal.last.box||_app_mod_edit()}),1e3))),"start"!=phase&&clearTimeout(tut.time),!sil.open)return!0;if("move"==phase&&"left"==direction&&($("html").addClass("back-gray"),tut.stat=!1,fs.touchs=!0),fs.refresh=!("move"==phase&&"left"==direction&&!fs.refresh)&&fs.refresh,("end"==phase||"cancel"==phase&&fs.refresh)&&window.setTimeout((function(){fs.refresh=!0}),1e3),"left"==direction){if(distance<sil.size?"stop"==sil.stat&&(window.setTimeout((function(){$(sil.text.e).removeClass("fadeIn")}),500),$(sil.text.e).text(sil.text.pull).addClass("fadeIn"),$(sil.as).removeClass("t-end"),sil.stat="pull"):"pull"==sil.stat&&(window.setTimeout((function(){$(sil.text.e).removeClass("fadeIn")}),500),$(sil.text.e).text(sil.text.stop).addClass("fadeIn"),$(sil.as).addClass("t-end"),sil.stat="stop"),"end"!=phase&&$(e).css("left","-"+distance+"px"),"end"==phase){$(e).css("left","-100%");var fn=fs.dt.action.unSwipeRecord.callback;if(fn){var p=$(e).parent(),id=$(p).attr("data-id")?$(p).attr("data-id"):$(p).attr("id");eval(fn+"(id)")}j.ceksil=sil,j.tutsec=tut,_dt_sr_end(e,j,phase)}"cancel"==phase&&($(e).css("left",0),j.ceksil=sil,j.tutsec=tut,_dt_sr_end(e,j,phase))}}},allowPageScroll:"vertical",threshold:sil.size})}function _dt_sr_end(e,t,a){var s=t.ceksil,n=t.tutsec;clearTimeout(n.time),n.stat=!1,fs.touchs=!0,$(e).addClass("anim"),window.setTimeout((function(){"end"==a&&$(e).parent().addClass("remove"),$(fs.dt.touch.ceksil.as).removeClass("t-end"),$(e).parent().removeClass("t-start"),$("html").removeClass("back-gray"),$(e).removeClass("anim"),s.as=!1,fs.touchs=!1,t.ceksil=s,t.tutsec=n,fs.dt.touch=t}),320)}function _tema_form_box(){$(form.e).find(".notification button").click((function(){$(form.e).addClass("off"),window.setTimeout((function(){$(form.e).removeClass("send-on nosent posted off"),$("html").removeClass(form.name+"-nosent")}),500)}))}fs.navcnt=nav_count("create"),fs.modal={last:{box:!1,tab:9},tab:{},box:{},set:{urun:{name:"urun",js:!0,id:!0,key:!0,before:"_mu_before(s)"},cek:{name:"cek",js:!0,id:!0},"cek-add":{name:"cek-add",js:!0},"cek-banka":{name:"cek-banka",js:!0},prms:{name:"prms",js:!0,on:!1},numu:{name:"numu",js:!0,on:!1},arac:{name:"arac",js:!0,on:!1}},prev:!1,next:!1,temp:{prev:[],next:[]}},fs.touchs=!1,fs.dt={e:".ul-table",li:".ul-table .tbody > li:not(.of)",for:".ul-table.on-chk.t-1 .tbody > li:not(.of)",id:".ul-table .tbody > li[id]",checkbox:".ul-table .tbody > li:not(.of) input.check",td:{ctrl:!0,kdv:!1,adet:"brm",name:!1},checkeds:{tot:0,val:[]},action:{unSelect:{text:!1,button:!1,callback:!1},unRecord:{text:!1,button:!1,callback:!1},unSwipeRecord:{callback:!1},publish:{text:!1,button:!1,callback:!1},trash:{text:!1,button:!1,callback:!1,width:!1},rel:{js:!1}},touch:{e:".ul-table .touch-us",tutsec:{open:!1,stat:!1,time:!1},cekbar:!1,ceksil:{open:!1,as:!1,size:400,stat:"pull",text:{e:".t-start > .touch-as .t-ceksil span",pull:"Silmek için önce sola çekin",stop:"Yeterli ! Silmeyi tamamlamak için bırakın"}}}};